[{"/Users/mymacbook/dev/mesto-react/src/index.js":"1","/Users/mymacbook/dev/mesto-react/src/components/App.js":"2","/Users/mymacbook/dev/mesto-react/src/components/ImagePopup.js":"3","/Users/mymacbook/dev/mesto-react/src/components/EditProfilePopup.js":"4","/Users/mymacbook/dev/mesto-react/src/components/AddPlacePopup.js":"5","/Users/mymacbook/dev/mesto-react/src/components/ConfirmDeletePopup.js":"6","/Users/mymacbook/dev/mesto-react/src/components/EditAvatarPopup.js":"7","/Users/mymacbook/dev/mesto-react/src/components/Card.js":"8","/Users/mymacbook/dev/mesto-react/src/components/PopupWithForm.js":"9","/Users/mymacbook/dev/mesto-react/src/store/index.js":"10","/Users/mymacbook/dev/mesto-react/src/store/appSlice.js":"11","/Users/mymacbook/dev/mesto-react/src/store/userSlice.js":"12","/Users/mymacbook/dev/mesto-react/src/store/dataSlice.js":"13","/Users/mymacbook/dev/mesto-react/src/components/Hooks/useForm.jsx":"14","/Users/mymacbook/dev/mesto-react/src/components/Input/Input.jsx":"15","/Users/mymacbook/dev/mesto-react/src/utils/config.js":"16","/Users/mymacbook/dev/mesto-react/src/components/Loader/Loader.js":"17","/Users/mymacbook/dev/mesto-react/src/components/Header/Header.js":"18","/Users/mymacbook/dev/mesto-react/src/components/Footer/Footer.js":"19","/Users/mymacbook/dev/mesto-react/src/components/Main/Main.js":"20"},{"size":342,"mtime":1631890598583,"results":"21","hashOfConfig":"22"},{"size":1438,"mtime":1632093227570,"results":"23","hashOfConfig":"22"},{"size":1287,"mtime":1631925042127,"results":"24","hashOfConfig":"22"},{"size":1788,"mtime":1631991916326,"results":"25","hashOfConfig":"22"},{"size":1602,"mtime":1631991427451,"results":"26","hashOfConfig":"22"},{"size":1050,"mtime":1631989918133,"results":"27","hashOfConfig":"22"},{"size":1421,"mtime":1631991267912,"results":"28","hashOfConfig":"22"},{"size":2036,"mtime":1631986005042,"results":"29","hashOfConfig":"22"},{"size":1058,"mtime":1631909981813,"results":"30","hashOfConfig":"22"},{"size":289,"mtime":1631890583692,"results":"31","hashOfConfig":"22"},{"size":2139,"mtime":1631990424804,"results":"32","hashOfConfig":"22"},{"size":3055,"mtime":1631926334326,"results":"33","hashOfConfig":"22"},{"size":4419,"mtime":1631929627718,"results":"34","hashOfConfig":"22"},{"size":2986,"mtime":1631923475754,"results":"35","hashOfConfig":"22"},{"size":1011,"mtime":1631891479434,"results":"36","hashOfConfig":"22"},{"size":554,"mtime":1631914063217,"results":"37","hashOfConfig":"22"},{"size":262,"mtime":1632093631472,"results":"38","hashOfConfig":"22"},{"size":270,"mtime":1632093020123,"results":"39","hashOfConfig":"22"},{"size":226,"mtime":1632091821745,"results":"40","hashOfConfig":"22"},{"size":2281,"mtime":1632093509098,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"3a2gus",{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"44"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"44"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"/Users/mymacbook/dev/mesto-react/src/index.js",[],["87","88"],"/Users/mymacbook/dev/mesto-react/src/components/App.js",["89","90"],"import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Header from \"./Header/Header\";\nimport Main from \"./Main/Main\";\nimport Footer from \"./Footer/Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\n\nimport scrollLock from \"scroll-lock\";\nimport { closeAllPopups } from \"../store/appSlice\";\nimport { ESC_CODE } from \"../utils/config\";\nimport { fetchUserInfo } from \"../store/userSlice\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const { isPopupOpen } = useSelector((state) => state.app);\n  const { status, error } = useSelector((state) => state.data);\n\n  // EFFECTS\n  useEffect(() => {\n    dispatch(fetchUserInfo());\n  }, [dispatch]);\n\n  const handleEsc = (e) => {\n    if (e.keyCode === ESC_CODE) {\n      dispatch(closeAllPopups());\n    }\n  };\n\n  isPopupOpen\n    ? window.addEventListener(\"keydown\", handleEsc) ||\n      scrollLock.disablePageScroll()\n    : window.removeEventListener(\"keydown\", handleEsc) ||\n      scrollLock.enablePageScroll();\n\n  return (\n    <>\n      <Header />\n      <Main />\n      <Footer />\n      <EditAvatarPopup />\n      <EditProfilePopup />\n      <AddPlacePopup />\n      <ConfirmDeletePopup />\n      <ImagePopup />\n    </>\n  );\n};\n\nexport default App;\n","/Users/mymacbook/dev/mesto-react/src/components/ImagePopup.js",[],"/Users/mymacbook/dev/mesto-react/src/components/EditProfilePopup.js",["91"],"import React, { useEffect } from \"react\";\nimport { useFormWithValidation } from \"./Hooks/useForm.jsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input/Input.jsx\";\nimport { DELAY } from \"../utils/config.js\";\nimport { patchProfile } from \"../store/userSlice.js\";\nimport { closeAllPopups, resetUxButtons, setUxSaveBtn } from \"../store/appSlice.js\";\n\nconst EditProfilePopup = () => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetFormCurrentUser } =\n    useFormWithValidation();\n  const { isEditProfilePopupOpen, uxSaveBtn } = useSelector((state) => state.app);\n\n  useEffect(() => {\n    resetFormCurrentUser();\n  }, [isEditProfilePopupOpen]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxSaveBtn())\n    dispatch(patchProfile(values));\n    setTimeout(() => {\n      handleClose();\n    }, DELAY);\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      resetFormCurrentUser();\n      dispatch(resetUxButtons());\n    }, DELAY);\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isEditProfilePopupOpen}\n      onClose={handleClose}\n      title=\"Edit profile\"\n      button={uxSaveBtn}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        inputName=\"name\"\n        labelName=\"First and Last name\"\n        value={values.name || \"\"}\n        onChange={handleChange}\n        errors={errors.name}\n      />\n      <Input\n        type=\"text\"\n        inputName=\"about\"\n        labelName=\"Profession\"\n        value={values.about || \"\"}\n        onChange={handleChange}\n        errors={errors.about}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","/Users/mymacbook/dev/mesto-react/src/components/AddPlacePopup.js",[],"/Users/mymacbook/dev/mesto-react/src/components/ConfirmDeletePopup.js",[],"/Users/mymacbook/dev/mesto-react/src/components/EditAvatarPopup.js",[],"/Users/mymacbook/dev/mesto-react/src/components/Card.js",[],"/Users/mymacbook/dev/mesto-react/src/components/PopupWithForm.js",[],"/Users/mymacbook/dev/mesto-react/src/store/index.js",[],"/Users/mymacbook/dev/mesto-react/src/store/appSlice.js",[],"/Users/mymacbook/dev/mesto-react/src/store/userSlice.js",["92"],"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const fetchUserInfo = createAsyncThunk(\n  \"users/fetchUserInfo\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Cant get user information\");\n      }\n      const user = await response.json();\n      console.log(user);\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const patchProfile = createAsyncThunk(\n  \"users/patchProfile\",\n  async function ({ name, about }, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, about }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update profile.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const patchAvatar = createAsyncThunk(\n  \"users/patchProfile\",\n  async function (avatar, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ avatar: avatar.link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update avatar.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: [],\n    users: [],\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchUserInfo.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchUserInfo.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [patchProfile.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [patchAvatar.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [fetchUserInfo.rejected]: setError,\n    [patchProfile.rejected]: setError,\n    [patchAvatar.rejected]: setError,\n  },\n});\n\nexport const {} = userSlice.actions;\n\nexport default userSlice.reducer;\n","/Users/mymacbook/dev/mesto-react/src/store/dataSlice.js",["93"],"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const fetchCards = createAsyncThunk(\n  \"data/fetchCards\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR!\");\n      }\n      const cards = await response.json();\n      return cards;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const newCard = createAsyncThunk(\n  \"data/newCard\",\n  async function ({ name, link }, { rejectWithValue, dispatch }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't add a new card.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const likeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set like.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const dislikeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set dislike.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const deleteCard = createAsyncThunk(\n  \"data/deleteCard\",\n  async function (cardId, { rejectWithValue, dispatch }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't delete card.\");\n      }\n      return cardId;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst handleLike = (state, action) => {\n  state.status = \"resolved\";\n  state.cards = state.cards.map((c) =>\n    c._id === action.payload._id ? action.payload : c\n  );\n};\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst dataSlice = createSlice({\n  name: \"data\",\n  initialState: {\n    cards: [],\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchCards.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchCards.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = action.payload;\n    },\n    [newCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = [action.payload, ...state.cards];\n    },\n    [deleteCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = state.cards.filter((card) => card._id !== action.payload);\n    },\n    [likeCard.fulfilled]: handleLike,\n    [dislikeCard.fulfilled]: handleLike,\n    [fetchCards.rejected]: setError,\n    [newCard.rejected]: setError,\n    [likeCard.rejected]: setError,\n    [dislikeCard.rejected]: setError,\n    [deleteCard.rejected]: setError,\n  },\n});\n\nexport const {} = dataSlice.actions;\n\nexport default dataSlice.reducer;\n","/Users/mymacbook/dev/mesto-react/src/components/Hooks/useForm.jsx",[],"/Users/mymacbook/dev/mesto-react/src/components/Input/Input.jsx",[],"/Users/mymacbook/dev/mesto-react/src/utils/config.js",[],"/Users/mymacbook/dev/mesto-react/src/components/Loader/Loader.js",[],"/Users/mymacbook/dev/mesto-react/src/components/Header/Header.js",[],"/Users/mymacbook/dev/mesto-react/src/components/Footer/Footer.js",[],"/Users/mymacbook/dev/mesto-react/src/components/Main/Main.js",[],{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":20,"column":11,"nodeType":"100","messageId":"101","endLine":20,"endColumn":17},{"ruleId":"98","severity":1,"message":"102","line":20,"column":19,"nodeType":"100","messageId":"101","endLine":20,"endColumn":24},{"ruleId":"103","severity":1,"message":"104","line":19,"column":6,"nodeType":"105","endLine":19,"endColumn":30,"suggestions":"106"},{"ruleId":"107","severity":1,"message":"108","line":110,"column":14,"nodeType":"109","messageId":"110","endLine":110,"endColumn":16},{"ruleId":"107","severity":1,"message":"108","line":161,"column":14,"nodeType":"109","messageId":"110","endLine":161,"endColumn":16},"no-native-reassign",["111"],"no-negated-in-lhs",["112"],"no-unused-vars","'status' is assigned a value but never used.","Identifier","unusedVar","'error' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'resetFormCurrentUser'. Either include it or remove the dependency array.","ArrayExpression",["113"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation",{"desc":"114","fix":"115"},"Update the dependencies array to be: [isEditProfilePopupOpen, resetFormCurrentUser]",{"range":"116","text":"117"},[735,759],"[isEditProfilePopupOpen, resetFormCurrentUser]"]