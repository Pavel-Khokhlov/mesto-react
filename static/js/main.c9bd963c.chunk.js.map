{"version":3,"sources":["images/logo.svg","images/loading-35.gif","components/Header/Header.jsx","store/appSlice.js","components/Button/Button.jsx","components/Avatar/Avatar.jsx","components/About/About.jsx","utils/config.js","store/dataSlice.js","components/Card/Card.jsx","components/Loader/Loader.jsx","components/CardsList/CardsList.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","components/Popup/Popup.jsx","components/Popup/ImagePopup.jsx","components/Hooks/useForm.jsx","components/Popup/PopupWithForm.jsx","components/Input/Input.jsx","store/userSlice.js","components/Popup/EditProfilePopup.jsx","components/Popup/EditAvatarPopup.jsx","components/Popup/AddPlacePopup.jsx","components/Popup/ConfirmDeletePopup.jsx","components/App/App.jsx","store/index.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","appSlice","createSlice","name","initialState","isPopupOpen","isEditProfilePopupOpen","isEditAvatarPopupOpen","isAddPlacePopupOpen","isZoomPopupOpen","isDelConfirmPopupOpen","selectedCard","uxBtnTitle","reducers","openEditProfilePopup","state","openEditAvatarPopup","openZoomImagePopup","action","payload","openAddPlacePopup","openDelConfirmPopup","closeAllPopups","setUxBtnTitle","actions","Button","type","arial_label","onClick","children","isValid","disabled","arial-label","Avatar","dispatch","useDispatch","currentUser","useSelector","users","avatar","aria-label","About","about","BASE_API","REG_EMAIL","REG_PASSWORD","REG_LINK","fetchCards","createAsyncThunk","_","a","rejectWithValue","fetch","method","headers","authorization","response","ok","Error","json","cards","message","newCard","link","body","JSON","stringify","card","likeCard","id","dislikeCard","deleteCard","cardId","handleLike","status","map","c","_id","setError","error","dataSlice","extraReducers","pending","fulfilled","filter","rejected","Card","isOwn","owner","deleteButtonClassName","isLiked","likes","some","i","likeButtonClassName","likeCountColorClassName","length","Loader","CardsList","data","useEffect","key","Main","Footer","Popup","isOpen","popupClassName","ImagePopup","app","containerPopupClassName","setTimeout","e","stopPropagation","aria_label","useFormWithValidation","useState","values","setValues","errors","setErrors","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","resetFormCurrentUser","handleChange","target","value","test","validateMessage","closest","checkValidity","PopupWithForm","title","onSubmit","onValid","formReset","containerClassName","buttonSubmitClassName","Input","labelName","inputName","onChange","formDisabled","minLength","focus","setFocus","labelClassName","onFocus","onBlur","autoComplete","required","getUserInfo","user","editProfile","editAvatar","setLoading","setCurrentUser","userSlice","EditProfilePopup","preventDefault","EditAvatarPopup","AddPlacePopup","ConfirmDeletePopup","App","handleEsc","keyCode","window","addEventListener","scrollLock","disablePageScroll","removeEventListener","enablePageScroll","configureStore","reducer","appReduser","userReduser","dataReduser","render","store","document","getElementById"],"mappings":"gHAAAA,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,0WCa5BC,I,EAAAA,EARf,WACE,OACE,4BAAQC,UAAU,UAChB,yBAAKC,IAAKC,IAAMC,IAAI,iHAAuBH,UAAU,mB,cCKrDI,EAAWC,YAAY,CAC3BC,KAAM,MACNC,aAbmB,CACnBC,aAAa,EACbC,wBAAwB,EACxBC,uBAAuB,EACvBC,qBAAqB,EACrBC,iBAAiB,EACjBC,uBAAuB,EACvBC,aAAc,GACdC,WAAY,MAMZC,SAAU,CACRC,qBADQ,SACaC,GACnB,OAAO,2BACFA,GADL,IAEEH,WAAY,OACZP,aAAa,EACbC,wBAAwB,KAG5BU,oBATQ,SASYD,GAClB,OAAO,2BACFA,GADL,IAEEH,WAAY,OACZL,uBAAuB,EACvBF,aAAa,KAGjBY,mBAjBQ,SAiBWF,EAAOG,GACxB,OAAO,2BACFH,GADL,IAEEJ,aAAcO,EAAOC,QACrBV,iBAAiB,EACjBJ,aAAa,KAGjBe,kBAzBQ,SAyBUL,GAChB,OAAO,2BACFA,GADL,IAEEH,WAAY,SACZJ,qBAAqB,EACrBH,aAAa,KAGjBgB,oBAjCQ,SAiCYN,EAAOG,GACzB,OAAO,2BACFH,GADL,IAEEH,WAAY,MACZD,aAAcO,EAAOC,QACrBT,uBAAuB,EACvBL,aAAa,KAGjBiB,eA1CQ,SA0COP,GACb,OAAO,2BACFA,GADL,IAEEV,aAAa,EACbC,wBAAwB,EACxBC,uBAAuB,EACvBC,qBAAqB,EACrBC,iBAAiB,EACjBC,uBAAuB,KAG3Ba,cArDQ,SAqDMR,EAAOG,GACnB,OAAO,2BACFH,GADL,IAEEH,WAAYM,EAAOC,cAMpB,EAQHlB,EAASuB,QAPXV,EADK,EACLA,qBACAE,EAFK,EAELA,oBACAC,EAHK,EAGLA,mBACAG,EAJK,EAILA,kBACAC,EALK,EAKLA,oBACAE,EANK,EAMLA,cACAD,EAPK,EAOLA,eAGarB,IAAf,QC7EewB,G,MARA,SAAC,GAAkE,IAAhEC,EAA+D,EAA/DA,KAAM7B,EAAyD,EAAzDA,UAAW8B,EAA8C,EAA9CA,YAAaC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QACjE,OACE,4BAAQC,SAAUD,EAASJ,KAAMA,EAAM7B,UAAWA,EAAWmC,cAAaL,EAAaC,QAASA,GAC7FC,KCyBQI,G,MAzBA,WACb,IAAMC,EAAWC,cACTC,EAAgBC,aAAY,SAACtB,GAAD,OAAWA,EAAMuB,SAA7CF,YAMR,OACE,yBAAKvC,UAAU,UACT,yBACEC,IAAKsC,EAAYG,OACjBvC,IAAKoC,EAAYjC,KACjBN,UAAU,kBAEZ,kBAAC,EAAD,CACE6B,KAAK,SACL7B,UAAU,sBACV2C,aAAW,2JACXZ,QAfe,WACvBM,EAASlB,WCmBEyB,G,MAxBD,WACZ,IAAMP,EAAWC,cACTC,EAAgBC,aAAY,SAACtB,GAAD,OAAWA,EAAMuB,SAA7CF,YAMR,OACE,yBAAKvC,UAAU,SACb,yBAAKA,UAAU,eACb,wBAAIA,UAAU,sDAAsDuC,EAAYjC,MAChF,kBAAC,EAAD,CACEuB,KAAK,SACL7B,UAAU,gDACV2C,aAAW,iKACXZ,QAZkB,WACxBM,EAASpB,SAcP,uBAAGjB,UAAU,+DAA+DuC,EAAYM,U,sCCxBjFC,EAAW,8CAQXC,EAAY,wBAEZC,EACX,uDAEWC,EACX,qECZWC,EAAaC,YACxB,kBADwC,uCAExC,WAAgBC,EAAhB,sBAAAC,EAAA,6DAAqBC,EAArB,EAAqBA,gBAArB,kBAE2BC,MAAM,GAAD,OAAIT,EAAJ,UAAsB,CAChDU,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CANvB,WAEUC,EAFV,QASkBC,GATlB,sBAUY,IAAIC,MAAM,iBAVtB,uBAYwBF,EAASG,OAZjC,cAYUC,EAZV,yBAaWA,GAbX,2DAeWT,EAAgB,KAAMU,UAfjC,0DAFwC,yDAsB7BC,EAAUd,YACrB,eADqC,uCAErC,uCAAAE,EAAA,6DAAkB/C,EAAlB,EAAkBA,KAAM4D,EAAxB,EAAwBA,KAAUZ,EAAlC,EAAkCA,gBAAlC,EAAmDjB,SAAnD,kBAE2BkB,MAAM,GAAD,OAAIT,EAAJ,UAAsB,CAChDU,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,wCAEjBS,KAAMC,KAAKC,UAAU,CAAE/D,OAAM4D,WARnC,WAEUP,EAFV,QAUkBC,GAVlB,sBAWY,IAAIC,MAAM,uCAXtB,wBAauBF,EAASG,OAbhC,eAaUQ,EAbV,yBAcWA,GAdX,2DAgBWhB,EAAgB,KAAMU,UAhBjC,0DAFqC,yDAuB1BO,EAAWpB,YACtB,gBADsC,uCAEtC,WAAgBqB,EAAhB,sBAAAnB,EAAA,6DAAsBC,EAAtB,EAAsBA,gBAAtB,kBAE2BC,MAAM,GAAD,OAAIT,EAAJ,wBAA4B0B,GAAM,CAC5DhB,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CANvB,WAEUC,EAFV,QASkBC,GATlB,sBAUY,IAAIC,MAAM,iCAVtB,uBAYuBF,EAASG,OAZhC,cAYUQ,EAZV,yBAaWA,GAbX,2DAeWhB,EAAgB,KAAMU,UAfjC,0DAFsC,yDAsB3BS,EAActB,YACzB,gBADyC,uCAEzC,WAAgBqB,EAAhB,sBAAAnB,EAAA,6DAAsBC,EAAtB,EAAsBA,gBAAtB,kBAE2BC,MAAM,GAAD,OAAIT,EAAJ,wBAA4B0B,GAAM,CAC5DhB,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CANvB,WAEUC,EAFV,QASkBC,GATlB,sBAUY,IAAIC,MAAM,oCAVtB,uBAYuBF,EAASG,OAZhC,cAYUQ,EAZV,yBAaWA,GAbX,2DAeWhB,EAAgB,KAAMU,UAfjC,0DAFyC,yDAsB9BU,EAAavB,YACxB,kBADwC,uCAExC,WAAgBwB,EAAhB,kBAAAtB,EAAA,6DAA0BC,EAA1B,EAA0BA,gBAA1B,kBAE2BC,MAAM,GAAD,OAAIT,EAAJ,kBAAsB6B,GAAU,CAC1DnB,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CANvB,iBASkBE,GATlB,sBAUY,IAAIC,MAAM,oCAVtB,gCAYWc,GAZX,2DAcWrB,EAAgB,KAAMU,UAdjC,0DAFwC,yDAqBpCY,EAAa,SAAC1D,EAAOG,GACzBH,EAAM2D,OAAS,WACf3D,EAAM6C,MAAQ7C,EAAM6C,MAAMe,KAAI,SAACC,GAAD,OAC5BA,EAAEC,MAAQ3D,EAAOC,QAAQ0D,IAAM3D,EAAOC,QAAUyD,MAI9CE,EAAW,SAAC/D,EAAOG,GACvBH,EAAM2D,OAAS,WACf3D,EAAMgE,MAAQ7D,EAAOC,SAsCR6D,EAnCG9E,YAAY,CAC5BC,KAAM,OACNC,aAAc,CACZwD,MAAO,GACPc,OAAQ,KACRK,MAAO,MAETlE,SAAU,GACVoE,eAAa,mBACVlC,EAAWmC,SAAU,SAACnE,GACrBA,EAAM2D,OAAS,UACf3D,EAAMgE,MAAQ,QAHL,cAKVhC,EAAWoC,WAAY,SAACpE,EAAOG,GAC9BH,EAAM2D,OAAS,WACf3D,EAAM6C,MAAQ1C,EAAOC,WAPZ,cASV2C,EAAQqB,WAAY,SAACpE,EAAOG,GAC3BH,EAAM2D,OAAS,WACf3D,EAAM6C,MAAN,CAAe1C,EAAOC,SAAtB,mBAAkCJ,EAAM6C,WAX/B,cAaVW,EAAWY,WAAY,SAACpE,EAAOG,GAC9BH,EAAM2D,OAAS,WACf3D,EAAM6C,MAAQ7C,EAAM6C,MAAMwB,QAAO,SAACjB,GAAD,OAAUA,EAAKU,MAAQ3D,EAAOC,cAftD,cAiBViD,EAASe,UAAYV,GAjBX,cAkBVH,EAAYa,UAAYV,GAlBd,cAmBV1B,EAAWsC,SAAWP,GAnBZ,cAoBVhB,EAAQuB,SAAWP,GApBT,cAqBVV,EAASiB,SAAWP,GArBV,cAsBVR,EAAYe,SAAWP,GAtBb,cAuBVP,EAAWc,SAAWP,GAvBZ,KA2Bf,QClFeQ,G,MAtEF,SAAC,GAAc,IAAZnB,EAAW,EAAXA,KACRjC,EAAWC,cACTC,EAAgBC,aAAY,SAACtB,GAAD,OAAWA,EAAMuB,SAA7CF,YAGFmD,EAAQpB,EAAKqB,MAAMX,MAAQzC,EAAYyC,IAEvCY,EAAqB,kDACzBF,EAAQ,GAAK,2BAITG,EAAUvB,EAAKwB,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEhB,MAAQzC,EAAYyC,OAEvDiB,EAAmB,gDACvBJ,EAAU,sBAAwB,yBAG9BK,EAAuB,oCAC3BL,EAAU,kBAAoB,qBAehC,OACE,wBAAI7F,UAAU,QACZ,kBAAC,EAAD,CACE6B,KAAK,SACL7B,UAAW4F,EACXjD,aAAW,iHACXZ,QAVoB,WACxBM,EAASb,EAAoB8C,OAW3B,kBAAC,EAAD,CACEzC,KAAK,SACL7B,UAAU,uBACV2C,aAAW,kKAEX,yBACE1C,IAAKqE,EAAKJ,KACV/D,IAAKmE,EAAKhE,KACVN,UAAU,cACV+B,QA7BgB,WACtBM,EAASjB,EAAmBkD,QA+B1B,yBAAKtE,UAAU,cACb,wBAAIA,UAAU,oCAAoCsE,EAAKhE,MACvD,yBAAKN,UAAU,cACb,kBAAC,EAAD,CACE6B,KAAK,SACL7B,UAAWiG,EACXtD,aAAW,uHACXZ,QAnCc,WACZM,EAAVwD,EAAmBpB,EAAYH,EAAKU,KAAiBT,EAASD,EAAKU,SAoC7D,uBAAGhF,UAAWkG,GAA0B5B,EAAKwB,MAAMK,a,uBC1D9CC,MARf,WACE,OACE,6BAASpG,UAAU,UACjB,yBAAKC,IAAKC,IAAMC,IAAI,sEAAeH,UAAU,kBCoBpCqG,G,MApBG,WAChB,IAAMhE,EAAWC,cACjB,EAA0BE,aAAY,SAACtB,GAAD,OAAWA,EAAMoF,QAA/CvC,EAAR,EAAQA,MAAOc,EAAf,EAAeA,OAMf,OAJA0B,qBAAU,WACRlE,EAASa,OACR,IAEY,YAAX2B,EACK,kBAAC,EAAD,MAGP,wBAAI7E,UAAU,aACX+D,EAAMe,KAAI,SAACR,GACV,OAAO,kBAAC,EAAD,CAAMkC,IAAKlC,EAAKU,IAAKV,KAAMA,UCc3BmC,G,MA1BF,WACX,IAAMpE,EAAWC,cAMjB,OACE,0BAAMtC,UAAU,QAEd,6BAASA,UAAU,iBACjB,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,CACE6B,KAAK,SACL7B,UAAU,6CACV2C,aAAW,uHACXZ,QAde,WACrBM,EAASd,SAiBP,kBAAC,EAAD,S,MCnBSmF,MARf,WACE,OACE,4BAAQ1G,UAAU,UAChB,uBAAGA,UAAU,gDAAb,8BCiBS2G,G,MAlBD,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQ5E,EAAe,EAAfA,SACjBK,EAAWC,cAEXuE,EAAc,gBAClBD,EAAS,eAAiB,kBAO5B,OACE,6BAAS5G,UAAW6G,EAAgB9E,QALlB,WAClBM,EAASZ,OAKNO,KCgCQ8E,EA5CI,WACjB,IAAMzE,EAAWC,cACjB,EAA0CE,aACxC,SAACtB,GAAD,OAAWA,EAAM6F,OADXnG,EAAR,EAAQA,gBAAiBE,EAAzB,EAAyBA,aAInBkG,EAAuB,iDAC3BpG,EAAkB,0BAA4B,IAGhD2F,qBAAU,WACRU,YAAW,cRCM,OQChB,CAACrG,IAMJ,OACE,kBAAC,EAAD,CAAOgG,OAAQhG,GACb,4BACEZ,UAAWgH,EACXjF,QAAS,SAACmF,GAAD,OAAOA,EAAEC,oBAElB,kBAAC,EAAD,CACEtF,KAAK,SACL7B,UAAU,+CACVoH,WAAW,mBACXrF,QAdY,WAClBM,EAASZ,QAeL,yBACExB,IAAKa,EAAaoD,KAClB/D,IAAKW,EAAaR,KAClBN,UAAU,iBAEZ,gCAAYA,UAAU,0CACnBc,EAAaR,S,OCvCjB,SAAS+G,IACd,IAAQ9E,EAAgBC,aAAY,SAACtB,GAAD,OAAWA,EAAMuB,SAA7CF,YACR,EAA4B+E,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOrF,EAAP,KAAgB0F,EAAhB,KAuEMC,EAAYC,uBAChB,WAAyD,IAAxDC,EAAuD,uDAA3C,GAAIC,EAAuC,uDAA3B,GAAIC,EAAuB,wDACtDR,EAAUM,GACVJ,EAAUK,GACVJ,EAAWK,KAEb,CAACR,EAAWE,EAAWC,IAGnBM,EAAuBJ,uBAC3B,WAIM,IAHJC,EAGG,uDAHSvF,EACZwF,EAEG,uDAFS,GACZC,EACG,wDACHR,EAAUM,GACVJ,EAAUK,GACVJ,EAAWK,KAEb,CAACR,EAAWE,EAAWC,EAAYpF,IAGrC,MAAO,CACLgF,SACAE,SACAxF,UACAiG,aAnCmB,SAAChB,GACpB,IAAMiB,EAASjB,EAAEiB,OACX7H,EAAO6H,EAAO7H,KACd8H,EAAQD,EAAOC,MACrBZ,EAAU,2BAAKD,GAAN,kBAAejH,EAAO8H,KAC/BV,EAAU,2BAAKD,GAAN,kBAAenH,EAjEF,SAAC6H,GACvB,MAAoB,SAAhBA,EAAO7H,KACmB,IAAxB6H,EAAOC,MAAMjC,OACT,WAEJgC,EAAOC,MAAMjC,OAAS,EACjB,kCAEF,GAEW,aAAhBgC,EAAO7H,KACmB,IAAxB6H,EAAOC,MAAMjC,OACR,wBAELgC,EAAOC,MAAMjC,OAAS,EACjB,sCAEF,GAEW,UAAhBgC,EAAO7H,KACmB,IAAxB6H,EAAOC,MAAMjC,OACT,WAEJgC,EAAOC,MAAMjC,OAAS,EACjB,yCAEF,GAEW,UAAhBgC,EAAO7H,KACmB,IAAxB6H,EAAOC,MAAMjC,OACR,0BAEJpD,EAAUsF,KAAKF,EAAOC,OAGpB,GAFE,iCAIS,aAAhBD,EAAO7H,KACmB,IAAxB6H,EAAOC,MAAMjC,OACR,4BAELgC,EAAOC,MAAMjC,OAAS,EACjB,2CAEJnD,EAAaqF,KAAKF,EAAOC,OAGvB,GAFE,mEAIQ,SAAhBD,EAAO7H,KACoB,IAAxB6H,EAAOC,MAAMjC,OACR,wBAEJlD,EAASoF,KAAKF,EAAOC,OAGnB,GAFE,qCALX,EAgB+BE,CAAgBH,MAC/CR,EAAWQ,EAAOI,QAAQ,QAAQC,kBA8BlChB,YACAI,YACAK,wBCtGJ,I,GA+CeQ,GA/CO,SAAC,GAA+D,IAA7D7B,EAA4D,EAA5DA,OAAQ8B,EAAoD,EAApDA,MAAO1G,EAA6C,EAA7CA,SAAU2G,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC7DxG,EAAWC,cACTvB,EAAeyB,aACrB,SAACtB,GAAD,OAAWA,EAAM6F,OADXhG,WAIF+H,EAAkB,iDAA6ClC,EAAS,0BAA4B,IAEpGmC,EAAqB,gCACzBH,EAAU,wBAA0B,2BAUtC,OACE,kBAAC,EAAD,CAAOhC,OAAQA,EAAQgB,UAAWiB,GAChC,0BACE7I,UAAW8I,EACX/G,QAAS,SAACmF,GAAD,OAAOA,EAAEC,mBAClBwB,SAAUA,GAEV,kBAAC,EAAD,CACE9G,KAAK,SACL7B,UAAU,+CACV2C,aAAW,uHACXZ,QAlBY,WAClBM,EAASZ,KACTwF,YAAW,WACT4B,MVHe,QUoBb,wBAAI7I,UAAU,gBAAgB0I,GAC7B1G,EACD,kBAAC,EAAD,CACEH,KAAK,SACL7B,UAAW+I,EACXpG,aAAW,mIACXT,UAAW0G,GAEV7H,MCGIiI,I,MA7CD,SAAC,GASR,IARLC,EAQI,EARJA,UACAC,EAOI,EAPJA,UACArH,EAMI,EANJA,KACAsH,EAKI,EALJA,SACAf,EAII,EAJJA,MACAX,EAGI,EAHJA,OACA2B,EAEI,EAFJA,aACAC,EACI,EADJA,UAEA,EAA0B/B,oBAAS,GAAnC,mBAAOgC,EAAP,KAAcC,EAAd,KAQMC,EAAc,wEAAoEF,GAASlB,EAAMjC,OAAS,qBAAuB,qBAEvI,OACE,2BAAOnG,UAAU,SACf,uBAAGA,UAAWwJ,GACXP,GAEH,2BACEpH,KAAMA,EACNvB,KAAM4I,EACN1E,GAAI0E,EACJlJ,UAAU,eACVmJ,SAAUA,EACVf,MAAOA,GAAS,GAChBqB,QArBc,SAACvC,GACnBqC,GAAS,IAqBLG,OAnBa,SAACxC,GAClBqC,GAAS,IAmBLrH,SAAUkH,EACVC,UAAWA,EACXM,aAAa,MACbC,UAAQ,IAEV,0BAAM5J,UAAU,gBAChB,uBAAGA,UAAU,gBAAgByH,MC1CtBoC,GAAc1G,YACzB,oBADyC,uCAEzC,WAAgBC,EAAhB,sBAAAC,EAAA,6DAAqBC,EAArB,EAAqBA,gBAArB,kBAE2BC,MAAM,GAAD,OAAIT,EAAJ,aAAyB,CACnDU,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,0CANvB,WAEUC,EAFV,QASkBC,GATlB,sBAUY,IAAIC,MAAM,2CAVtB,uBAYuBF,EAASG,OAZhC,cAYUgG,EAZV,yBAaWA,GAbX,2DAeWxG,EAAgB,KAAMU,UAfjC,0DAFyC,yDAsB9B+F,GAAc5G,YACzB,oBADyC,uCAEzC,uCAAAE,EAAA,6DAAkB/C,EAAlB,EAAkBA,KAAMuC,EAAxB,EAAwBA,MAAWS,EAAnC,EAAmCA,gBAAnC,kBAE2BC,MAAM,GAAD,OAAIT,EAAJ,aAAyB,CACnDU,OAAQ,QACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,wCAEjBS,KAAMC,KAAKC,UAAU,CAAE/D,OAAMuC,YARnC,WAEUc,EAFV,QAUkBC,GAVlB,sBAWY,IAAIC,MAAM,uCAXtB,wBAauBF,EAASG,OAbhC,eAaUgG,EAbV,yBAcWA,GAdX,2DAgBWxG,EAAgB,KAAMU,UAhBjC,0DAFyC,yDAuB9BgG,GAAa7G,YACxB,mBADwC,uCAExC,WAAgBT,EAAhB,sBAAAW,EAAA,6DAA0BC,EAA1B,EAA0BA,gBAA1B,kBAE2BC,MAAM,GAAD,OAAIT,EAAJ,oBAAgC,CAC1DU,OAAQ,QACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,wCAEjBS,KAAMC,KAAKC,UAAU,CAAE3B,OAAQA,EAAOwB,SAR5C,WAEUP,EAFV,QAUkBC,GAVlB,sBAWY,IAAIC,MAAM,sCAXtB,uBAauBF,EAASG,OAbhC,cAaUgG,EAbV,yBAcWA,GAdX,2DAgBWxG,EAAgB,KAAMU,UAhBjC,0DAFwC,yDAuBpCiG,GAAa,SAAC/I,EAAOG,GACzBH,EAAM2D,OAAS,UACf3D,EAAMgE,MAAQ,MAGVgF,GAAiB,SAAChJ,EAAOG,GAC7BH,EAAM2D,OAAS,WACf3D,EAAMqB,YAAclB,EAAOC,SAGvB2D,GAAW,SAAC/D,EAAOG,GACvBH,EAAM2D,OAAS,WACf3D,EAAMgE,MAAQ7D,EAAOC,SAwBR6I,GArBG9J,YAAY,CAC5BC,KAAM,QACNC,aAAc,CACZgC,YAAa,GACbsC,OAAQ,KACRK,MAAO,MAETlE,SAAU,GACVoE,eAAa,qBACVyE,GAAYxE,QAAU4E,IADZ,eAEVF,GAAY1E,QAAU4E,IAFZ,eAGVD,GAAW3E,QAAU4E,IAHX,eAIVJ,GAAYvE,UAAY4E,IAJd,eAKVH,GAAYzE,UAAY4E,IALd,eAMVF,GAAW1E,UAAY4E,IANb,eAOVL,GAAYrE,SAAWP,IAPb,eAQV8E,GAAYvE,SAAWP,IARb,eASV+E,GAAWxE,SAAWP,IATZ,MAaf,QCtCemF,GA3DU,WACvB,IAAM/H,EAAWC,cACjB,EACE+E,IADME,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,OAAQxF,EAAxB,EAAwBA,QAASiG,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,qBAEvCxH,EAA2B+B,aAAY,SAACtB,GAAD,OAAWA,EAAM6F,OAAxDtG,uBACAoE,EAAWrC,aAAY,SAACtB,GAAD,OAAWA,EAAMuB,SAAxCoC,OAER0B,qBAAU,YACuB,IAA3B9F,GAAiCwH,IACrChB,YAAW,WACTgB,MbDe,OaGhB,CAACxH,IAEJ8F,qBAAU,WACO,aAAX1B,IAGFxC,EAASZ,KACTwF,YAAW,WACT5E,EAASX,EAAc,SbXV,QachB,CAACmD,IAQJ,OACE,kBAAC,GAAD,CACE+B,OAAQnG,EACRiI,MAAM,eACNG,UAAWZ,EACXU,SAXiB,SAACzB,GACpBA,EAAEmD,iBACFhI,EAASX,EAAc,cACvBW,EAAS0H,GAAYxC,KASnBqB,QAAS3G,GAET,kBAAC,GAAD,CACEJ,KAAK,OACLqH,UAAU,OACVD,UAAU,sBACVb,MAAOb,EAAOjH,MAAQ,GACtB6I,SAAUjB,EACVT,OAAQA,EAAOnH,OAEjB,kBAAC,GAAD,CACEuB,KAAK,OACLqH,UAAU,QACVD,UAAU,aACVb,MAAOb,EAAO1E,OAAS,GACvBsG,SAAUjB,EACVT,OAAQA,EAAO5E,UCHRyH,GAnDS,WACtB,IAAMjI,EAAWC,cACjB,EACE+E,IADME,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,OAAQxF,EAAxB,EAAwBA,QAASiG,EAAjC,EAAiCA,aAAcN,EAA/C,EAA+CA,UAEvClH,EAA0B8B,aAAY,SAACtB,GAAD,OAAWA,EAAM6F,OAAvDrG,sBAEAmE,EAAWrC,aAAY,SAACtB,GAAD,OAAWA,EAAMuB,SAAxCoC,OAER0B,qBAAU,WACRU,YAAW,WACTW,MdAe,OcEhB,CAAClH,IAEJ6F,qBAAU,WACO,aAAX1B,IAGFxC,EAASZ,KACTwF,YAAW,WACT5E,EAASX,EAAc,SdVV,QcahB,CAACmD,IAQJ,OACE,kBAAC,GAAD,CACE+B,OAAQlG,EACRgI,MAAM,gBACNG,UAAWjB,EACXe,SAXiB,SAACzB,GACpBA,EAAEmD,iBACFhI,EAASX,EAAc,cACvBW,EAAS2H,GAAWzC,KASlBqB,QAAS3G,GAET,kBAAC,GAAD,CACEJ,KAAK,MACLqH,UAAU,OACVD,UAAU,gBACVb,MAAOb,EAAOrD,MAAQ,GACtBiF,SAAUjB,EACVT,OAAQA,EAAOvD,SCcRqG,GA1DO,WACpB,IAAMlI,EAAWC,cACjB,EACE+E,IADME,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,OAAQxF,EAAxB,EAAwBA,QAASiG,EAAjC,EAAiCA,aAAcN,EAA/C,EAA+CA,UAEvCjH,EAAwB6B,aAAY,SAACtB,GAAD,OAAWA,EAAM6F,OAArDpG,oBACAkE,EAAWrC,aAAY,SAACtB,GAAD,OAAWA,EAAMoF,QAAxCzB,OAER0B,qBAAU,WACRU,YAAW,WACTW,MfAe,OeEhB,CAACjH,IAEJ4F,qBAAU,WACO,aAAX1B,IAGFxC,EAASZ,KACTwF,YAAW,WACT5E,EAASX,EAAc,SfVV,QeahB,CAACmD,IAQJ,OACE,kBAAC,GAAD,CACE+B,OAAQjG,EACR+H,MAAM,YACNG,UAAWjB,EACXe,SAXiB,SAACzB,GACpBA,EAAEmD,iBACFhI,EAASX,EAAc,gBACvBW,EAAS4B,EAAQsD,KASfqB,QAAS3G,GAET,kBAAC,GAAD,CACEJ,KAAK,OACLqH,UAAU,OACVD,UAAU,cACVb,MAAOb,EAAOjH,MAAQ,GACtB6I,SAAUjB,EACVT,OAAQA,EAAOnH,OAEjB,kBAAC,GAAD,CACEuB,KAAK,MACLqH,UAAU,OACVD,UAAU,aACVb,MAAOb,EAAOrD,MAAQ,GACtBiF,SAAUjB,EACVT,OAAQA,EAAOvD,SCrBRsG,GAlCY,WACzB,IAAMnI,EAAWC,cACjB,EAAgDE,aAC9C,SAACtB,GAAD,OAAWA,EAAM6F,OADXlG,EAAR,EAAQA,sBAAuBC,EAA/B,EAA+BA,aAGvB+D,EAAWrC,aAAY,SAACtB,GAAD,OAAWA,EAAMoF,QAAxCzB,OAER0B,qBAAU,WACO,aAAX1B,IAGFxC,EAASZ,KACTwF,YAAW,WACT5E,EAASX,EAAc,ShBDV,QgBIhB,CAACmD,IAQJ,OACE,kBAAC,GAAD,CACE+B,OAAQ/F,EACR6H,MAAM,iBACNC,SAViB,SAACzB,GACpBA,EAAEmD,iBACFhI,EAASX,EAAc,gBACvBW,EAASqC,EAAW5D,EAAakE,OAQ/B4D,SAAS,K,oBCaA6B,GAlCH,WACV,IAAMpI,EAAWC,cACT9B,EAAgBgC,aAAY,SAACtB,GAAD,OAAWA,EAAM6F,OAA7CvG,YAER+F,qBAAU,WACRlE,EAASwH,QACR,CAACxH,IAEJ,IAAMqI,EAAY,SAACxD,GjBNG,KiBOhBA,EAAEyD,SACJtI,EAASZ,MAUb,OANAjB,EACIoK,OAAOC,iBAAiB,UAAWH,IACnCI,KAAWC,oBACXH,OAAOI,oBAAoB,UAAWN,IACtCI,KAAWG,mBAGb,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,EAAD,QCvCSC,eAAe,CAC5BC,QAAS,CACPpE,IAAKqE,EACL3I,MAAO4I,GACP/E,KAAMgF,KCDVC,iBACE,kBAAC,aAAD,KACE,kBAAC,IAAD,CAAUC,MAAOA,IACf,kBAAC,GAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.c9bd963c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading-35.e6c4a842.gif\";","import React from 'react';\nimport logo from \"../../images/logo.svg\";\n\nimport \"./Header.css\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"логотип место россия\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  isPopupOpen: false,\n  isEditProfilePopupOpen: false,\n  isEditAvatarPopupOpen: false,\n  isAddPlacePopupOpen: false,\n  isZoomPopupOpen: false,\n  isDelConfirmPopupOpen: false,\n  selectedCard: [],\n  uxBtnTitle: null,\n};\n\nconst appSlice = createSlice({\n  name: \"app\",\n  initialState,\n  reducers: {\n    openEditProfilePopup(state) {\n      return {\n        ...state,\n        uxBtnTitle: \"Save\",\n        isPopupOpen: true,\n        isEditProfilePopupOpen: true,\n      };\n    },\n    openEditAvatarPopup(state) {\n      return {\n        ...state,\n        uxBtnTitle: \"Save\",\n        isEditAvatarPopupOpen: true,\n        isPopupOpen: true,\n      };\n    },\n    openZoomImagePopup(state, action) {\n      return {\n        ...state,\n        selectedCard: action.payload,\n        isZoomPopupOpen: true,\n        isPopupOpen: true,\n      };\n    },\n    openAddPlacePopup(state) {\n      return {\n        ...state,\n        uxBtnTitle: \"Create\",\n        isAddPlacePopupOpen: true,\n        isPopupOpen: true,\n      };\n    },\n    openDelConfirmPopup(state, action) {\n      return {\n        ...state,\n        uxBtnTitle: \"Yes\",\n        selectedCard: action.payload,\n        isDelConfirmPopupOpen: true,\n        isPopupOpen: true,\n      };\n    },\n    closeAllPopups(state) {\n      return {\n        ...state,\n        isPopupOpen: false,\n        isEditProfilePopupOpen: false,\n        isEditAvatarPopupOpen: false,\n        isAddPlacePopupOpen: false,\n        isZoomPopupOpen: false,\n        isDelConfirmPopupOpen: false,\n      };\n    },\n    setUxBtnTitle(state, action) {\n      return {\n        ...state,\n        uxBtnTitle: action.payload,\n      };\n    },\n  },\n});\n\nexport const {\n  openEditProfilePopup,\n  openEditAvatarPopup,\n  openZoomImagePopup,\n  openAddPlacePopup,\n  openDelConfirmPopup,\n  setUxBtnTitle,\n  closeAllPopups,\n} = appSlice.actions;\n\nexport default appSlice.reducer;\n","import React from 'react';\nimport \"./Button.css\";\n\nconst Button = ({ type, className, arial_label, onClick, children, isValid }) => {\n  return (\n    <button disabled={isValid} type={type} className={className} arial-label={arial_label} onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { openEditAvatarPopup } from \"../../store/appSlice\";\nimport Button from \"../Button/Button\";\nimport \"./Avatar.css\";\n\nconst Avatar = () => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector((state) => state.users);\n\n  const handleEditAvatar = () => {\n    dispatch(openEditAvatarPopup());\n  };\n\n  return (\n    <div className=\"avatar\">\n          <img\n            src={currentUser.avatar}\n            alt={currentUser.name}\n            className=\"avatar__image\"\n          />\n          <Button\n            type=\"button\"\n            className=\"button__edit-avatar\"\n            aria-label=\"кнопка редактировать аватар\"\n            onClick={handleEditAvatar}\n          />\n        </div>\n  );\n};\n\nexport default Avatar;","import React from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { openEditProfilePopup } from \"../../store/appSlice\";\nimport Button from \"../Button/Button\";\nimport \"./About.css\";\n\nconst About = () => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector((state) => state.users);\n\n  const handleEditProfile = () => {\n    dispatch(openEditProfilePopup());\n  };\n\n  return (\n    <div className=\"about\">\n      <div className=\"about__name\">\n        <h1 className=\"title title__name text__overflow text__color_white\">{currentUser.name}</h1>\n        <Button\n          type=\"button\"\n          className=\"button button_background button__edit-profile\"\n          aria-label=\"кнопка редактировать профиль\"\n          onClick={handleEditProfile}\n        />\n      </div>\n      <p className=\"paragraph paragraph__about text__overflow text__color_white\">{currentUser.about}</p>\n    </div>\n  );\n};\n\nexport default About;\n","export const BASE_URL = \"http://localhost:3000\";\nexport const BASE_API = \"https://mesto.nomoreparties.co/v1/cohort-18\";\n\nexport const HEADERS = `\n  headers: {\n    \"Content-Type\": \"application/json\",\n    authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n  }`\n\nexport const REG_EMAIL = /^[^@]+@[^@.]+\\.[^@]+$/;\n\nexport const REG_PASSWORD =\n  /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^\\w\\s]).{8,}/;\n\nexport const REG_LINK =\n  /^(https?:\\/\\/)?([\\da-z\\\\.-]+)\\.([a-z\\\\.]{2,6})([\\\\/\\w \\\\.-]*)*\\/?$/;\n\nexport const ESC_CODE = 27;\n\nexport const DELAY = 500;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const fetchCards = createAsyncThunk(\n  \"data/fetchCards\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR!\");\n      }\n      const cards = await response.json();\n      return cards;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const newCard = createAsyncThunk(\n  \"data/newCard\",\n  async function ({ name, link }, { rejectWithValue, dispatch }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't add a new card.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const likeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set like.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const dislikeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set dislike.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const deleteCard = createAsyncThunk(\n  \"data/deleteCard\",\n  async function (cardId, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't delete card.\");\n      }\n      return cardId;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst handleLike = (state, action) => {\n  state.status = \"resolved\";\n  state.cards = state.cards.map((c) =>\n    c._id === action.payload._id ? action.payload : c\n  );\n};\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst dataSlice = createSlice({\n  name: \"data\",\n  initialState: {\n    cards: [],\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchCards.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchCards.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = action.payload;\n    },\n    [newCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = [action.payload, ...state.cards];\n    },\n    [deleteCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = state.cards.filter((card) => card._id !== action.payload);\n    },\n    [likeCard.fulfilled]: handleLike,\n    [dislikeCard.fulfilled]: handleLike,\n    [fetchCards.rejected]: setError,\n    [newCard.rejected]: setError,\n    [likeCard.rejected]: setError,\n    [dislikeCard.rejected]: setError,\n    [deleteCard.rejected]: setError,\n  },\n});\n\nexport default dataSlice.reducer;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { openZoomImagePopup, openDelConfirmPopup } from \"../../store/appSlice\";\nimport { dislikeCard, likeCard } from \"../../store/dataSlice\";\nimport Button from \"../Button/Button\";\n\nimport \"./Card.css\";\n\nconst Card = ({ card }) => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector((state) => state.users);\n\n  // SET DELETE BTN TO MY CARD\n  const isOwn = card.owner._id === currentUser._id;\n\n  const deleteButtonClassName = `button button__delete button_background ${\n    isOwn ? \"\" : \"button__delete_inactive\"\n  }`;\n\n  // SET LIKE TO MY CARD\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const likeButtonClassName = `button button_background button__like ${\n    isLiked ? \"button__like_active\" : \"button__like_inactive\"\n  }`;\n\n  const likeCountColorClassName = `paragraph paragraph__card ${\n    isLiked ? \"text__color_red\" : \"text__color_black\"\n  }`;\n\n  const handleCardClick = () => {\n    dispatch(openZoomImagePopup(card));\n  };\n\n  const handleLikeClick = () => {\n    isLiked ? dispatch(dislikeCard(card._id)) : dispatch(likeCard(card._id));\n  };\n\n  const handleDeleteClick = () => {\n    dispatch(openDelConfirmPopup(card));\n  };\n\n  return (\n    <li className=\"card\">\n      <Button\n        type=\"button\"\n        className={deleteButtonClassName}\n        aria-label=\"кнопка удалить место\"\n        onClick={handleDeleteClick}\n      />\n      <Button\n        type=\"button\"\n        className=\"button button__image\"\n        aria-label=\"кнопка увеличить изображение\"\n      >\n        <img\n          src={card.link}\n          alt={card.name}\n          className=\"card__image\"\n          onClick={handleCardClick}\n        />\n      </Button>\n      <div className=\"card__info\">\n        <h2 className=\"title title__card text__overflow\">{card.name}</h2>\n        <div className=\"card__like\">\n          <Button\n            type=\"button\"\n            className={likeButtonClassName}\n            aria-label=\"кнопка поставить лайк\"\n            onClick={handleLikeClick}\n          />\n          <p className={likeCountColorClassName}>{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport logo from \"../../images/loading-35.gif\";\n\nimport \"./Loader.css\";\n\nfunction Loader() {\n  return (\n    <section className=\"loader\">\n      <img src={logo} alt=\"гиф загрузка\" className=\"loader__gif\" />\n    </section>\n  );\n}\n\nexport default Loader;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchCards } from \"../../store/dataSlice\";\nimport Card from \"../Card/Card\";\nimport Loader from \"../Loader/Loader.jsx\";\n\nimport './CardsList.css';\n\nconst CardsList = () => {\n  const dispatch = useDispatch();\n  const { cards, status } = useSelector((state) => state.data);\n\n  useEffect(() => {\n    dispatch(fetchCards());\n  }, []);\n\n  if (status === \"loading\") {\n    return <Loader />;\n  }\n  return (\n    <ul className=\"cardslist\">\n      {cards.map((card) => {\n        return <Card key={card._id} card={card} />;\n      })}\n    </ul>\n  );\n};\n\nexport default CardsList;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { openAddPlacePopup } from \"../../store/appSlice\";\nimport Button from \"../Button/Button\";\nimport Avatar from \"../Avatar/Avatar\";\nimport About from \"../About/About\";\nimport CardsList from \"../CardsList/CardsList\";\n\nimport \"./Main.css\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n\n  const handleAddPlace = () => {\n    dispatch(openAddPlacePopup());\n  };\n\n  return (\n    <main className=\"main\">\n      {/* PROFILE */}\n      <section className=\"main__profile\">\n        <Avatar />\n        <About />\n        <Button\n          type=\"button\"\n          className=\"button button_background button__add-place\"\n          aria-label=\"кнопка добавить место\"\n          onClick={handleAddPlace}\n        />\n      </section>\n      {/* PLACES */}\n      <CardsList />\n    </main>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nimport \"./Footer.css\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"paragraph paragraph__footer text__color_grey\">© 2020 Pavel Khokhlov</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { closeAllPopups } from '../../store/appSlice';\nimport { DELAY } from '../../utils/config';\nimport \"./Popup.css\";\n\nconst Popup = ({ isOpen, children }) => {\n  const dispatch = useDispatch();\n\n  const popupClassName = `popup ${\n    isOpen ? \"popup_active\" : \"popup_inactive\"\n  }`;\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n  };\n\n  return (\n    <section className={popupClassName} onClick={handleClose}>\n      {children}\n    </section>\n  );\n};\n\nexport default Popup;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeAllPopups, resetSelectedCard } from \"../../store/appSlice\";\nimport { DELAY } from \"../../utils/config\";\nimport Button from \"../Button/Button\";\nimport Popup from \"./Popup\";\n\nconst ImagePopup = () => {\n  const dispatch = useDispatch();\n  const { isZoomPopupOpen, selectedCard } = useSelector(\n    (state) => state.app\n  );\n\n  const containerPopupClassName = `popup__container popup__container_zoom ${\n    isZoomPopupOpen ? \"popup__container_active\" : \"\"\n  }`;\n\n  useEffect(() => {\n    setTimeout(() => {\n    }, DELAY);\n  }, [isZoomPopupOpen]);\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n  };\n\n  return (\n    <Popup isOpen={isZoomPopupOpen}>\n      <figure\n        className={containerPopupClassName}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <Button\n          type=\"button\"\n          className=\"button button_background button__close-popup\"\n          aria_label=\"back to the page\"\n          onClick={handleClose}\n        />\n        <img\n          src={selectedCard.link}\n          alt={selectedCard.name}\n          className=\"popup__image\"\n        />\n        <figcaption className=\"title title__caption text__color_black\">\n          {selectedCard.name}\n        </figcaption>\n      </figure>\n    </Popup>\n  );\n};\n\nexport default ImagePopup;\n","import { useState, useCallback } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { REG_EMAIL, REG_PASSWORD, REG_LINK } from \"../../utils/config\";\n\nexport function useFormWithValidation() {\n  const { currentUser } = useSelector((state) => state.users);\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const validateMessage = (target) => {\n    if (target.name === \"name\") {\n      if (target.value.length === 0) {\n        return `Required`;\n      }\n      if (target.value.length < 2) {\n        return \"The name must be more 2 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"lastname\") {\n      if (target.value.length === 0) {\n        return \"Please enter the name\";\n      }\n      if (target.value.length < 2) {\n        return \"The lastname must be more 2 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"about\") {\n      if (target.value.length === 0) {\n        return `Required`;\n      }\n      if (target.value.length < 8) {\n        return \"The description must be more 8 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"email\") {\n      if (target.value.length === 0) {\n        return \"Please enter the E-mail\";\n      }\n      if (!REG_EMAIL.test(target.value)) {\n        return \"Please enter the correct email\";\n      }\n      return \"\";\n    }\n    if (target.name === \"password\") {\n      if (target.value.length === 0) {\n        return \"Please enter the password\";\n      }\n      if (target.value.length < 8) {\n        return \"The password must be more than 8 symbols\";\n      }\n      if (!REG_PASSWORD.test(target.value)) {\n        return \"The password must include numbers, lowcase and uppercase letters\";\n      }\n      return \"\";\n    }\n    if(target.name === \"link\") {\n      if (target.value.length === 0) {\n        return \"Please enter the link\";\n      }\n      if (!REG_LINK.test(target.value)) {\n        return \"Please enter the correct link\";\n      }\n      return \"\";\n    }\n  };\n\n  const handleChange = (e) => {\n    const target = e.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: validateMessage(target) });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  const resetFormCurrentUser = useCallback(\n    (\n      newValues = currentUser,\n      newErrors = {},\n      newIsValid = false\n    ) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid, currentUser]\n  );\n\n  return {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    setValues,\n    resetForm,\n    resetFormCurrentUser,\n  };\n}\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeAllPopups } from \"../../store/appSlice\";\nimport { DELAY } from \"../../utils/config\";\nimport Button from \"../Button/Button\";\nimport Popup from \"./Popup\";\n\nconst PopupWithForm = ({ isOpen, title, children, onSubmit, onValid, formReset }) => {\n  const dispatch = useDispatch();\n  const { uxBtnTitle } = useSelector(\n    (state) => state.app\n  );\n\n  const containerClassName = `popup__container popup__container_form ${isOpen ? \"popup__container_active\" : \"\"}`;\n\n  const buttonSubmitClassName = `button button__submit ${\n    onValid ? \"button__submit_active\" : \"button__submit_inactive\"\n  }`\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      formReset();\n    }, DELAY);\n  };\n\n  return (\n    <Popup isOpen={isOpen} resetForm={formReset}>\n      <form\n        className={containerClassName}\n        onClick={(e) => e.stopPropagation()}\n        onSubmit={onSubmit}\n      >\n        <Button\n          type=\"button\"\n          className=\"button button_background button__close-popup\"\n          aria-label=\"Вернуться на страницу\"\n          onClick={handleClose}\n        />\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <Button\n          type=\"submit\"\n          className={buttonSubmitClassName}\n          aria-label=\"Сохранить новый профиль\"\n          disabled={!onValid}\n        >\n          {uxBtnTitle}\n        </Button>\n      </form>\n    </Popup>\n  );\n};\n\nexport default PopupWithForm;\n","import React from 'react';\nimport { useState } from \"react\";\n\nimport \"./Input.css\";\n\nconst Input = ({\n  labelName,\n  inputName,\n  type,\n  onChange,\n  value,\n  errors,\n  formDisabled,\n  minLength,\n}) => {\n  const [focus, setFocus] = useState(false);\n  const handleFocus = (e) => {\n    setFocus(true);\n  };\n  const handleBlur = (e) => {\n    setFocus(false);\n  };\n\n  const labelClassName = `paragraph paragraph__label paragraph__color_grey input__label ${focus || value.length ? \"input__label_focus\" : \"input__label_blur\"}` \n\n  return (\n    <label className=\"input\">\n      <p className={labelClassName}>\n        {labelName}\n      </p>\n      <input\n        type={type}\n        name={inputName}\n        id={inputName}\n        className=\"input__field\"\n        onChange={onChange}\n        value={value || \"\"}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        disabled={formDisabled}\n        minLength={minLength}\n        autoComplete=\"off\"\n        required\n      />\n      <span className=\"input__line\"></span>\n      <p className=\"input__error\">{errors}</p>\n    </label>\n  );\n};\n\nexport default Input;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const getUserInfo = createAsyncThunk(\n  \"users/getUserInfo\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Cant get user information\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const editProfile = createAsyncThunk(\n  \"users/editProfile\",\n  async function ({ name, about }, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, about }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update profile.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const editAvatar = createAsyncThunk(\n  \"users/editAvatar\",\n  async function (avatar, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ avatar: avatar.link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update avatar.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst setLoading = (state, action) => {\n  state.status = \"loading\";\n  state.error = null;\n};\n\nconst setCurrentUser = (state, action) => {\n  state.status = \"resolved\";\n  state.currentUser = action.payload;\n};\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: {},\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [getUserInfo.pending]: setLoading,\n    [editProfile.pending]: setLoading,\n    [editAvatar.pending]: setLoading,\n    [getUserInfo.fulfilled]: setCurrentUser,\n    [editProfile.fulfilled]: setCurrentUser,\n    [editAvatar.fulfilled]: setCurrentUser,\n    [getUserInfo.rejected]: setError,\n    [editProfile.rejected]: setError,\n    [editAvatar.rejected]: setError,\n  },\n});\n\nexport default userSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { useFormWithValidation } from \"../Hooks/useForm.jsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"../Input/Input.jsx\";\nimport { DELAY } from \"../../utils/config.js\";\nimport { editProfile } from \"../../store/userSlice.js\";\nimport { closeAllPopups, setUxBtnTitle } from \"../../store/appSlice.js\";\n\nconst EditProfilePopup = () => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetFormCurrentUser } =\n    useFormWithValidation();\n  const { isEditProfilePopupOpen } = useSelector((state) => state.app);\n  const { status } = useSelector((state) => state.users);\n\n  useEffect(() => {\n    if (isEditProfilePopupOpen === true) resetFormCurrentUser();\n    setTimeout(() => {\n      resetFormCurrentUser();\n    }, DELAY);\n  }, [isEditProfilePopupOpen]);\n\n  useEffect(() => {\n    if (status !== \"resolved\") {\n      return;\n    } else {\n      dispatch(closeAllPopups());\n      setTimeout(() => {\n        dispatch(setUxBtnTitle(null));\n      }, DELAY);\n    }\n  }, [status]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxBtnTitle(`Saving...`));\n    dispatch(editProfile(values));\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isEditProfilePopupOpen}\n      title=\"Edit profile\"\n      formReset={resetFormCurrentUser}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        inputName=\"name\"\n        labelName=\"First and Last name\"\n        value={values.name || \"\"}\n        onChange={handleChange}\n        errors={errors.name}\n      />\n      <Input\n        type=\"text\"\n        inputName=\"about\"\n        labelName=\"Profession\"\n        value={values.about || \"\"}\n        onChange={handleChange}\n        errors={errors.about}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React, { useEffect } from \"react\";\nimport { useFormWithValidation } from \"../Hooks/useForm.jsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"../Input/Input.jsx\";\nimport { DELAY } from \"../../utils/config.js\";\nimport { closeAllPopups, setUxBtnTitle } from \"../../store/appSlice.js\";\nimport { editAvatar } from \"../../store/userSlice.js\";\n\nconst EditAvatarPopup = () => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetForm } =\n    useFormWithValidation();\n  const { isEditAvatarPopupOpen } = useSelector((state) => state.app);\n\n  const { status } = useSelector((state) => state.users);\n\n  useEffect(() => {\n    setTimeout(() => {\n      resetForm();\n    }, DELAY);\n  }, [isEditAvatarPopupOpen]);\n\n  useEffect(() => {\n    if (status !== \"resolved\") {\n      return;\n    } else {\n      dispatch(closeAllPopups());\n      setTimeout(() => {\n        dispatch(setUxBtnTitle(null));\n      }, DELAY);\n    }\n  }, [status]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxBtnTitle(\"Saving...\"));\n    dispatch(editAvatar(values));\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isEditAvatarPopupOpen}\n      title=\"Update avatar\"\n      formReset={resetForm}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"url\"\n        inputName=\"link\"\n        labelName=\"Avatar's link\"\n        value={values.link || \"\"}\n        onChange={handleChange}\n        errors={errors.link}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useFormWithValidation } from \"../Hooks/useForm.jsx\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"../Input/Input.jsx\";\n\nimport { DELAY } from \"../../utils/config.js\";\nimport { newCard } from \"../../store/dataSlice.js\";\nimport { closeAllPopups, setUxBtnTitle } from \"../../store/appSlice.js\";\n\nconst AddPlacePopup = () => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetForm } =\n    useFormWithValidation();\n  const { isAddPlacePopupOpen } = useSelector((state) => state.app);\n  const { status } = useSelector((state) => state.data);\n\n  useEffect(() => {\n    setTimeout(() => {\n      resetForm();\n    }, DELAY);\n  }, [isAddPlacePopupOpen]);\n\n  useEffect(() => {\n    if (status !== \"resolved\") {\n      return;\n    } else {\n      dispatch(closeAllPopups());\n      setTimeout(() => {\n        dispatch(setUxBtnTitle(null));\n      }, DELAY);\n    }\n  }, [status]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxBtnTitle(`Creating...`));\n    dispatch(newCard(values));\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isAddPlacePopupOpen}\n      title=\"New place\"\n      formReset={resetForm}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        inputName=\"name\"\n        labelName=\"Place title\"\n        value={values.name || \"\"}\n        onChange={handleChange}\n        errors={errors.name}\n      />\n      <Input\n        type=\"url\"\n        inputName=\"link\"\n        labelName=\"Place link\"\n        value={values.link || \"\"}\n        onChange={handleChange}\n        errors={errors.link}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeAllPopups, setUxBtnTitle } from \"../../store/appSlice\";\nimport { deleteCard } from \"../../store/dataSlice\";\nimport { DELAY } from \"../../utils/config\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst ConfirmDeletePopup = () => {\n  const dispatch = useDispatch();\n  const { isDelConfirmPopupOpen, selectedCard } = useSelector(\n    (state) => state.app\n  );\n  const { status } = useSelector((state) => state.data);\n\n  useEffect(() => {\n    if (status !== \"resolved\") {\n      return;\n    } else {\n      dispatch(closeAllPopups());\n      setTimeout(() => {\n        dispatch(setUxBtnTitle(null));\n      }, DELAY);\n    }\n  }, [status]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxBtnTitle(\"Deleting...\"));\n    dispatch(deleteCard(selectedCard._id));\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isDelConfirmPopupOpen}\n      title=\"Are you shure?\"\n      onSubmit={handleSubmit}\n      onValid={true}\n    />\n  );\n};\n\nexport default ConfirmDeletePopup;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Header from \"../Header/Header.jsx\";\nimport Main from \"../Main/Main.jsx\";\nimport Footer from \"../Footer/Footer.jsx\";\nimport ImagePopup from \"../Popup/ImagePopup.jsx\";\nimport EditProfilePopup from \"../Popup/EditProfilePopup.jsx\";\nimport EditAvatarPopup from \"../Popup/EditAvatarPopup.jsx\";\nimport AddPlacePopup from \"../Popup/AddPlacePopup.jsx\";\nimport ConfirmDeletePopup from \"../Popup/ConfirmDeletePopup.jsx\";\nimport scrollLock from \"scroll-lock\";\nimport { closeAllPopups } from \"../../store/appSlice\";\nimport { ESC_CODE } from \"../../utils/config\";\nimport { getUserInfo } from \"../../store/userSlice\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const { isPopupOpen } = useSelector((state) => state.app);\n\n  useEffect(() => {\n    dispatch(getUserInfo());\n  }, [dispatch]);\n\n  const handleEsc = (e) => {\n    if (e.keyCode === ESC_CODE) {\n      dispatch(closeAllPopups());\n    }\n  };\n\n  isPopupOpen\n    ? window.addEventListener(\"keydown\", handleEsc) ||\n      scrollLock.disablePageScroll()\n    : window.removeEventListener(\"keydown\", handleEsc) ||\n      scrollLock.enablePageScroll();\n\n  return (\n    <>\n      <Header />\n      <Main />\n      <Footer />\n      <EditAvatarPopup />\n      <EditProfilePopup />\n      <AddPlacePopup />\n      <ConfirmDeletePopup />\n      <ImagePopup />\n    </>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport userReduser from \"./userSlice\";\nimport appReduser from \"./appSlice\";\nimport dataReduser from \"./dataSlice\";\n\nexport default configureStore({\n  reducer: {\n    app: appReduser,\n    users: userReduser,\n    data: dataReduser,\n  },\n});\n","import React from 'react';\nimport { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport \"./pages/index.css\";\nimport App from \"./components/App/App.jsx\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nrender(\n  <StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}