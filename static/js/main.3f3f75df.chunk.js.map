{"version":3,"sources":["images/logo.svg","components/Header.js","store/appSlice.js","utils/config.js","store/dataSlice.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/Hooks/useForm.jsx","components/PopupWithForm.js","components/Input/Input.jsx","store/userSlice.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/App.js","store/index.js","index.js"],"names":["Header","className","src","logo","alt","appSlice","createSlice","name","initialState","isPopupOpen","isEditProfilePopupOpen","isEditAvatarPopupOpen","isAddPlacePopupOpen","isZoomImagePopupOpen","isDelConfirmPopupOpen","selectedCard","uxSaveBtn","uxCreateBtn","uxDeleteBtn","status","error","reducers","openEditProfilePopup","state","openEditAvatarPopup","openZoomImagePopup","action","payload","openAddPlacePopup","openDelConfirmPopup","resetSelectedCard","closeAllPopups","setUxSaveBtn","setUxCreateBtn","setUxDeleteBtn","resetUxButtons","uxDelBtn","actions","BASE_API","REG_EMAIL","REG_PASSWORD","REG_LINK","DELAY","fetchCards","createAsyncThunk","_","a","rejectWithValue","fetch","method","headers","authorization","response","ok","Error","json","cards","message","newCard","link","dispatch","body","JSON","stringify","card","likeCard","id","dislikeCard","deleteCard","cardId","handleLike","map","c","_id","setError","dataSlice","extraReducers","pending","fulfilled","filter","rejected","Card","useDispatch","currentUser","useSelector","users","isOwn","owner","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","cardLikeCountColorClassName","type","aria-label","onClick","length","Main","data","useEffect","avatar","about","Footer","ImagePopup","app","setImageOpenClassName","handleClose","setTimeout","e","stopPropagation","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","resetFormCurrentUser","handleChange","target","value","test","validateMessage","closest","checkValidity","PopupWithForm","isOpen","title","button","children","onClose","onSubmit","onValid","popupOpenClassName","noValidate","disabled","Input","labelName","inputName","onChange","formDisabled","minLength","focus","setFocus","labelClassName","onFocus","onBlur","required","fetchUserInfo","user","console","log","patchProfile","patchAvatar","userSlice","EditProfilePopup","preventDefault","EditAvatarPopup","AddPlacePopup","ConfirmDeletePopup","App","handleEsc","keyCode","window","addEventListener","scrollLock","disablePageScroll","removeEventListener","enablePageScroll","configureStore","reducer","appReduser","userReduser","dataReduser","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.3f3f75df.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n      <header className=\"header\">\n        <img src={logo} alt=\"логотип место россия\" className=\"logo\" />\n      </header>\n  );\n}\n\nexport default Header;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst appSlice = createSlice({\n  name: \"app\",\n  initialState: {\n    isPopupOpen: false,\n    isEditProfilePopupOpen: false,\n    isEditAvatarPopupOpen: false,\n    isAddPlacePopupOpen: false,\n    isZoomImagePopupOpen: false,\n    isDelConfirmPopupOpen: false,\n    selectedCard: false,\n    uxSaveBtn: `Save`,\n    uxCreateBtn: `Create`,\n    uxDeleteBtn: `Yes!`,\n    status: null,\n    error: null,\n  },\n  reducers: {\n    openEditProfilePopup(state) {\n      state.isEditProfilePopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openEditAvatarPopup(state) {\n      state.isEditAvatarPopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openZoomImagePopup(state, action) {\n      state.selectedCard = action.payload;\n      state.isZoomImagePopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openAddPlacePopup(state) {\n      state.isAddPlacePopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openDelConfirmPopup(state, action) {\n      state.selectedCard = action.payload;\n      state.isDelConfirmPopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    resetSelectedCard(state) {\n      state.selectedCard = false;\n    },\n    closeAllPopups(state) {\n      state.isEditProfilePopupOpen = false;\n      state.isEditAvatarPopupOpen = false;\n      state.isZoomImagePopupOpen = false;\n      state.isAddPlacePopupOpen = false;\n      state.isDelConfirmPopupOpen = false;\n      state.isPopupOpen = false;\n    },\n    setUxSaveBtn(state) {\n      state.uxSaveBtn = `Saving...`;\n    },\n    setUxCreateBtn(state) {\n      state.uxCreateBtn = `Creating...`;\n    },\n    setUxDeleteBtn(state) {\n      state.uxDeleteBtn = `Deleting...`;\n    },\n    resetUxButtons(state) {\n      state.uxSaveBtn = `Save`;\n      state.uxCreateBtn = `Create`;\n      state.uxDelBtn = `Yes!`;\n    },\n  },\n});\n\nexport const {\n  openEditProfilePopup,\n  openEditAvatarPopup,\n  openZoomImagePopup,\n  openAddPlacePopup,\n  openDelConfirmPopup,\n  setUxSaveBtn,\n  setUxCreateBtn,\n  setUxDeleteBtn,\n  closeAllPopups,\n  resetSelectedCard,\n  resetUxButtons,\n} = appSlice.actions;\n\nexport default appSlice.reducer;\n","export const BASE_URL = \"http://localhost:3000\";\nexport const BASE_API = \"https://mesto.nomoreparties.co/v1/cohort-18\";\n\nexport const HEADERS = `\n  headers: {\n    \"Content-Type\": \"application/json\",\n    authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n  }`\n\nexport const REG_EMAIL = /^[^@]+@[^@.]+\\.[^@]+$/;\n\nexport const REG_PASSWORD =\n  /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^\\w\\s]).{8,}/;\n\nexport const REG_LINK =\n  /^(https?:\\/\\/)?([\\da-z\\\\.-]+)\\.([a-z\\\\.]{2,6})([\\\\/\\w \\\\.-]*)*\\/?$/;\n\nexport const ESC_CODE = 27;\n\nexport const DELAY = 500;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const fetchCards = createAsyncThunk(\n  \"data/fetchCards\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR!\");\n      }\n      const cards = await response.json();\n      return cards;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const newCard = createAsyncThunk(\n  \"data/newCard\",\n  async function ({ name, link }, { rejectWithValue, dispatch }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't add a new card.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const likeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set like.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const dislikeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set dislike.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const deleteCard = createAsyncThunk(\n  \"data/deleteCard\",\n  async function (cardId, { rejectWithValue, dispatch }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't delete card.\");\n      }\n      return cardId;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst handleLike = (state, action) => {\n  state.status = \"resolved\";\n  state.cards = state.cards.map((c) =>\n    c._id === action.payload._id ? action.payload : c\n  );\n};\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst dataSlice = createSlice({\n  name: \"data\",\n  initialState: {\n    cards: [],\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchCards.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchCards.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = action.payload;\n    },\n    [newCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = [action.payload, ...state.cards];\n    },\n    [deleteCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = state.cards.filter((card) => card._id !== action.payload);\n    },\n    [likeCard.fulfilled]: handleLike,\n    [dislikeCard.fulfilled]: handleLike,\n    [fetchCards.rejected]: setError,\n    [newCard.rejected]: setError,\n    [likeCard.rejected]: setError,\n    [dislikeCard.rejected]: setError,\n    [deleteCard.rejected]: setError,\n  },\n});\n\nexport const {} = dataSlice.actions;\n\nexport default dataSlice.reducer;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { openZoomImagePopup, openDelConfirmPopup } from \"../store/appSlice\";\nimport { dislikeCard, likeCard } from \"../store/dataSlice\";\n\nconst Card = ({ card }) => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector((state) => state.users);\n\n  // SET DELETE BTN TO MY CARD\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `button place__del-btn ${\n    isOwn ? \"\" : \"place__del-btn_disable\"\n  }`;\n\n  // SET LIKE TO MY CARD\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `button place__like-btn ${\n    isLiked ? \"place__like-btn_active\" : \"\"\n  }`;\n  const cardLikeCountColorClassName = `paragraph ${\n    isLiked ? \"paragraph_red\" : \"\"\n  }`;\n\n  const handleCardClick = () => {\n    dispatch(openZoomImagePopup(card));\n  };\n\n  const handleLikeClick = () => {\n    isLiked ? dispatch(dislikeCard(card._id)) : dispatch(likeCard(card._id));\n  };\n\n  const handleDeleteClick = () => {\n    dispatch(openDelConfirmPopup(card));\n  };\n\n  return (\n    <li className=\"place\">\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        aria-label=\"удалить место\"\n        onClick={handleDeleteClick}\n      />\n      <button type=\"button\" className=\"button place__ratio-box\">\n        <img\n          src={card.link}\n          alt={card.name}\n          className=\"place__image\"\n          onClick={handleCardClick}\n        />\n      </button>\n      <div className=\"place__info\">\n        <h2 className=\"place__title\">{card.name}</h2>\n        <div className=\"place__like-area\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"поставить лайк\"\n            onClick={handleLikeClick}\n          />\n          <p className={cardLikeCountColorClassName}>{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Card from \"./Card\";\nimport {\n  openAddPlacePopup,\n  openEditAvatarPopup,\n  openEditProfilePopup,\n} from \"../store/appSlice\";\nimport { fetchCards } from \"../store/dataSlice\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector((state) => state.users);\n  const { cards } = useSelector((state) => state.data);\n\n  useEffect(() => {\n    dispatch(fetchCards());\n  }, [dispatch]);\n\n  const handleEditAvatar = () => {\n    dispatch(openEditAvatarPopup());\n  };\n\n  const handleEditProfile = () => {\n    dispatch(openEditProfilePopup());\n  };\n\n  const handleAddPlace = () => {\n    dispatch(openAddPlacePopup());\n  };\n\n  return (\n    <main className=\"main\">\n      {/* PROFILE */}\n      <section className=\"profile\">\n        <div className=\"profile__avatar-area\">\n          <img\n            src={currentUser.avatar}\n            alt={currentUser.name}\n            className=\"profile__avatar\"\n          />\n          <button\n            type=\"button\"\n            className=\"profile__avatar-btn\"\n            aria-label=\"Редактировать аватар\"\n            onClick={handleEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__block-name\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"button profile__edit-btn\"\n              aria-label=\"кнопка редактировать профиль\"\n              onClick={handleEditProfile}\n            />\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"button profile__add-btn\"\n          aria-label=\"кнопка добавить место\"\n          onClick={handleAddPlace}\n        />\n      </section>\n      {/* PLACES */}\n      <ul className=\"places\">\n        {cards.map((i) => {\n          return <Card key={i._id} card={i} />;\n        })}\n      </ul>\n    </main>\n  );\n};\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeAllPopups, resetSelectedCard } from \"../store/appSlice\";\nimport { DELAY } from \"../utils/config\";\n\nconst ImagePopup = () => {\n  const dispatch = useDispatch();\n  const { isZoomImagePopupOpen, selectedCard } = useSelector(\n    (state) => state.app\n  );\n\n  const setImageOpenClassName = `popup popup-zoom ${\n    isZoomImagePopupOpen ? \"popup_opened\" : \"\"\n  }`;\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      dispatch(resetSelectedCard());\n    }, DELAY);\n  };\n\n  return (\n    <section className={setImageOpenClassName} onClick={handleClose}>\n      <figure\n        className=\"popup-zoom__container\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          type=\"button\"\n          className=\"button popup__close-btn\"\n          aria-label=\"Вернуться на страницу\"\n          onClick={handleClose}\n        />\n        <img\n          src={selectedCard.link}\n          alt={selectedCard.name}\n          className=\"popup-zoom__image\"\n        />\n        <figcaption className=\"popup-zoom__caption\">\n          {selectedCard.name}\n        </figcaption>\n      </figure>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n","import { useState, useCallback } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { REG_EMAIL, REG_PASSWORD, REG_LINK } from \"../../utils/config\";\n\nexport function useFormWithValidation() {\n  const { currentUser } = useSelector((state) => state.users);\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const validateMessage = (target) => {\n    if (target.name === \"name\") {\n      if (target.value.length === 0) {\n        return `Required`;\n      }\n      if (target.value.length < 2) {\n        return \"The name must be more 2 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"lastname\") {\n      if (target.value.length === 0) {\n        return \"Please enter the name\";\n      }\n      if (target.value.length < 2) {\n        return \"The lastname must be more 2 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"about\") {\n      if (target.value.length === 0) {\n        return `Required`;\n      }\n      if (target.value.length < 8) {\n        return \"The description must be more 8 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"email\") {\n      if (target.value.length === 0) {\n        return \"Please enter the E-mail\";\n      }\n      if (!REG_EMAIL.test(target.value)) {\n        return \"Please enter the correct email\";\n      }\n      return \"\";\n    }\n    if (target.name === \"password\") {\n      if (target.value.length === 0) {\n        return \"Please enter the password\";\n      }\n      if (target.value.length < 8) {\n        return \"The password must be more than 8 symbols\";\n      }\n      if (!REG_PASSWORD.test(target.value)) {\n        return \"The password must include numbers, lowcase and uppercase letters\";\n      }\n      return \"\";\n    }\n    if(target.name === \"link\") {\n      if (target.value.length === 0) {\n        return \"Please enter the link\";\n      }\n      if (!REG_LINK.test(target.value)) {\n        return \"Please enter the correct link\";\n      }\n      return \"\";\n    }\n  };\n\n  const handleChange = (e) => {\n    const target = e.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: validateMessage(target) });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  const resetFormCurrentUser = useCallback(\n    (\n      newValues = currentUser,\n      newErrors = {},\n      newIsValid = false\n    ) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid, currentUser]\n  );\n\n  return {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    setValues,\n    resetForm,\n    resetFormCurrentUser,\n  };\n}\n","import React from \"react\";\n\nconst PopupWithForm = ({ isOpen, title, button, children, onClose, onSubmit, onValid }) => {\n\n  const popupOpenClassName = `popup ${isOpen ? \"popup_opened\" : \"\"}`;\n\n  return (\n    <section className={popupOpenClassName} onClick={onClose}>\n      <form\n        className=\"popup__container\"\n        method=\"post\"\n        noValidate\n        onClick={(e) => e.stopPropagation()}\n        onSubmit={onSubmit}\n      >\n        <button\n          type=\"button\"\n          className=\"button popup__close-btn\"\n          aria-label=\"Вернуться на страницу\"\n          onClick={onClose}\n        />\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button\n          type=\"submit\"\n          className={`popup__save-btn ${\n            onValid ? \"\" : \"popup__save-btn_inactive\"\n          }`}\n          aria-label=\"Сохранить новый профиль\"\n          disabled={!onValid}\n        >\n          {button}\n        </button>\n      </form>\n    </section>\n  );\n};\n\nexport default PopupWithForm;\n","import { useState } from \"react\";\n\nimport \"./Input.css\";\n\nconst Input = ({\n  labelName,\n  inputName,\n  type,\n  onChange,\n  value,\n  errors,\n  formDisabled,\n  minLength,\n}) => {\n  const [focus, setFocus] = useState(false);\n  const handleFocus = (e) => {\n    setFocus(true);\n  };\n  const handleBlur = (e) => {\n    setFocus(false);\n  };\n\n  const labelClassName = `paragraph paragraph__label paragraph__color_grey input__label ${focus || value.length ? \"input__label_focus\" : \"input__label_blur\"}` \n  return (\n    <label className=\"input\">\n      <p className={labelClassName}>\n        {labelName}\n      </p>\n      <input\n        type={type}\n        name={inputName}\n        id={inputName}\n        className=\"input__field\"\n        onChange={onChange}\n        value={value || \"\"}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        disabled={formDisabled}\n        minLength={minLength}\n        required\n      />\n      <p className=\"input__error\">{errors}</p>\n    </label>\n  );\n};\n\nexport default Input;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const fetchUserInfo = createAsyncThunk(\n  \"users/fetchUserInfo\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Cant get user information\");\n      }\n      const user = await response.json();\n      console.log(user);\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const patchProfile = createAsyncThunk(\n  \"users/patchProfile\",\n  async function ({ name, about }, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, about }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update profile.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const patchAvatar = createAsyncThunk(\n  \"users/patchProfile\",\n  async function (avatar, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ avatar: avatar.link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update avatar.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: [],\n    users: [],\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchUserInfo.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchUserInfo.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [patchProfile.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [patchAvatar.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [fetchUserInfo.rejected]: setError,\n    [patchProfile.rejected]: setError,\n    [patchAvatar.rejected]: setError,\n  },\n});\n\nexport const {} = userSlice.actions;\n\nexport default userSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { useFormWithValidation } from \"./Hooks/useForm.jsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input/Input.jsx\";\nimport { DELAY } from \"../utils/config.js\";\nimport { patchProfile } from \"../store/userSlice.js\";\nimport { closeAllPopups, resetUxButtons, setUxSaveBtn } from \"../store/appSlice.js\";\n\nconst EditProfilePopup = () => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetFormCurrentUser } =\n    useFormWithValidation();\n  const { isEditProfilePopupOpen, uxSaveBtn } = useSelector((state) => state.app);\n\n  useEffect(() => {\n    resetFormCurrentUser();\n  }, [isEditProfilePopupOpen]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxSaveBtn())\n    dispatch(patchProfile(values));\n    setTimeout(() => {\n      handleClose();\n    }, DELAY);\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      resetFormCurrentUser();\n      dispatch(resetUxButtons());\n    }, DELAY);\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isEditProfilePopupOpen}\n      onClose={handleClose}\n      title=\"Edit profile\"\n      button={uxSaveBtn}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        inputName=\"name\"\n        labelName=\"First and Last name\"\n        value={values.name || \"\"}\n        onChange={handleChange}\n        errors={errors.name}\n      />\n      <Input\n        type=\"text\"\n        inputName=\"about\"\n        labelName=\"Profession\"\n        value={values.about || \"\"}\n        onChange={handleChange}\n        errors={errors.about}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport { useFormWithValidation } from \"./Hooks/useForm.jsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input/Input.jsx\";\nimport { DELAY } from \"../utils/config.js\";\nimport { closeAllPopups, resetUxButtons, setUxSaveBtn } from \"../store/appSlice.js\";\nimport { patchAvatar } from \"../store/userSlice.js\";\n\nconst EditAvatarPopup = () => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetForm } =\n    useFormWithValidation();\n  const { isEditAvatarPopupOpen, uxSaveBtn } = useSelector((state) => state.app);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxSaveBtn())\n    dispatch(patchAvatar(values));\n    handleClose();\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      resetForm();\n      dispatch(resetUxButtons());\n    }, DELAY);\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isEditAvatarPopupOpen}\n      onClose={handleClose}\n      title=\"Update avatar\"\n      button={uxSaveBtn}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"url\"\n        inputName=\"link\"\n        labelName=\"Avatar's link\"\n        value={values.link || \"\"}\n        onChange={handleChange}\n        errors={errors.link}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useFormWithValidation } from \"./Hooks/useForm.jsx\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input/Input.jsx\";\n\nimport { DELAY } from \"../utils/config.js\";\nimport { newCard } from \"../store/dataSlice.js\";\nimport { closeAllPopups, resetUxButtons, setUxCreateBtn } from \"../store/appSlice.js\";\n\nconst AddPlacePopup = () => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetForm } =\n    useFormWithValidation();\n  const { isAddPlacePopupOpen, uxCreateBtn } = useSelector((state) => state.app);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxCreateBtn());\n    dispatch(newCard(values));\n    handleClose();\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      resetForm();\n      dispatch(resetUxButtons());\n    }, DELAY);\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isAddPlacePopupOpen}\n      onClose={handleClose}\n      title=\"New place\"\n      button={uxCreateBtn}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        inputName=\"name\"\n        labelName=\"Place title\"\n        value={values.name || \"\"}\n        onChange={handleChange}\n        errors={errors.name}\n      />\n      <Input\n        type=\"url\"\n        inputName=\"link\"\n        labelName=\"Place link\"\n        value={values.link || \"\"}\n        onChange={handleChange}\n        errors={errors.link}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeAllPopups, resetUxButtons, setUxDeleteBtn } from \"../store/appSlice\";\nimport { deleteCard } from \"../store/dataSlice\";\nimport { DELAY } from \"../utils/config\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst ConfirmDeletePopup = () => {\n  const dispatch = useDispatch();\n  const { isDelConfirmPopupOpen, selectedCard, uxDeleteBtn } = useSelector(\n    (state) => state.app\n  );\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(setUxDeleteBtn());\n    dispatch(deleteCard(selectedCard._id))\n    handleClose();\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      dispatch(resetUxButtons());\n    }, DELAY);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isDelConfirmPopupOpen}\n      onClose={handleClose}\n      name=\"del-place\"\n      title=\"Are you shure?\"\n      button={uxDeleteBtn}\n      onSubmit={handleSubmit}\n      onValid={true}\n    />\n  );\n};\n\nexport default ConfirmDeletePopup;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\n\nimport scrollLock from \"scroll-lock\";\nimport { closeAllPopups } from \"../store/appSlice\";\nimport { ESC_CODE } from \"../utils/config\";\nimport { fetchUserInfo } from \"../store/userSlice\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const { isPopupOpen } = useSelector((state) => state.app);\n  const { status, error } = useSelector((state) => state.data);\n\n  // EFFECTS\n  useEffect(() => {\n    dispatch(fetchUserInfo());\n  }, [dispatch]);\n\n  const handleEsc = (e) => {\n    if (e.keyCode === ESC_CODE) {\n      dispatch(closeAllPopups());\n    }\n  };\n\n  isPopupOpen\n    ? window.addEventListener(\"keydown\", handleEsc) ||\n      scrollLock.disablePageScroll()\n    : window.removeEventListener(\"keydown\", handleEsc) ||\n      scrollLock.enablePageScroll();\n\n  return (\n    <section>\n      <Header />\n      {status === \"loading\" && <h2>LOADING</h2>}\n      <Main />\n      <Footer />\n      <EditAvatarPopup />\n      <EditProfilePopup />\n      <AddPlacePopup />\n      <ConfirmDeletePopup />\n      <ImagePopup />\n    </section>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport userReduser from \"./userSlice\";\nimport appReduser from \"./appSlice\";\nimport dataReduser from \"./dataSlice\";\n\nexport default configureStore({\n  reducer: {\n    app: appReduser,\n    users: userReduser,\n    data: dataReduser,\n  },\n});\n","import { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport \"./pages/index.css\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nrender(\n  <StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}