{"version":3,"sources":["images/logo.svg","components/Header.js","store/appSlice.js","utils/config.js","store/dataSlice.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/Hooks/useForm.jsx","components/PopupWithForm.js","components/Input/Input.jsx","store/userSlice.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/App.js","store/index.js","index.js"],"names":["Header","className","src","logo","alt","appSlice","createSlice","name","initialState","isPopupOpen","isEditProfilePopupOpen","isEditAvatarPopupOpen","isAddPlacePopupOpen","isZoomImagePopupOpen","isDelConfirmPopupOpen","selectedCard","status","error","reducers","openEditProfilePopup","state","action","openEditAvatarPopup","openZoomImagePopup","payload","openAddPlacePopup","openDelConfirmPopup","resetSelectedCard","closeAllPopups","actions","BASE_API","REG_EMAIL","REG_PASSWORD","REG_LINK","DELAY","fetchCards","createAsyncThunk","_","a","rejectWithValue","fetch","method","headers","authorization","response","ok","Error","json","cards","message","newCard","link","dispatch","body","JSON","stringify","card","likeCard","id","dislikeCard","deleteCard","cardId","handleLike","map","c","_id","setError","dataSlice","extraReducers","pending","fulfilled","filter","rejected","Card","useDispatch","currentUser","useSelector","users","isOwn","owner","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","cardLikeCountColorClassName","type","aria-label","onClick","length","Main","data","useEffect","avatar","about","Footer","ImagePopup","app","setImageOpenClassName","handleClose","setTimeout","e","stopPropagation","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","resetFormCurrentUser","handleChange","target","value","test","validateMessage","closest","checkValidity","PopupWithForm","isOpen","title","button","children","onClose","onSubmit","onValid","popupOpenClassName","noValidate","disabled","Input","labelName","inputName","onChange","formDisabled","minLength","focus","setFocus","labelClassName","onFocus","onBlur","required","fetchUserInfo","user","console","log","patchProfile","patchAvatar","userSlice","EditProfilePopup","preventDefault","EditAvatarPopup","AddPlacePopup","ConfirmDeletePopup","App","uxSaveBtn","uxCreateBtn","uxDelBtn","handleEsc","keyCode","window","addEventListener","scrollLock","disablePageScroll","removeEventListener","enablePageScroll","configureStore","reducer","appReduser","userReduser","dataReduser","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.a0c346fa.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n      <header className=\"header\">\n        <img src={logo} alt=\"логотип место россия\" className=\"logo\" />\n      </header>\n  );\n}\n\nexport default Header;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst appSlice = createSlice({\n  name: \"app\",\n  initialState: {\n    isPopupOpen: false,\n    isEditProfilePopupOpen: false,\n    isEditAvatarPopupOpen: false,\n    isAddPlacePopupOpen: false,\n    isZoomImagePopupOpen: false,\n    isDelConfirmPopupOpen: false,\n    selectedCard: false,\n    status: null,\n    error: null,\n  },\n  reducers: {\n    openEditProfilePopup(state, action) {\n      state.isEditProfilePopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openEditAvatarPopup(state, action) {\n      state.isEditAvatarPopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openZoomImagePopup(state, action) {\n      state.selectedCard = action.payload;\n      state.isZoomImagePopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openAddPlacePopup(state, action) {\n      state.isAddPlacePopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    openDelConfirmPopup(state, action) {\n      state.selectedCard = action.payload;\n      state.isDelConfirmPopupOpen = true;\n      state.isPopupOpen = true;\n    },\n    resetSelectedCard(state, action){\n      state.selectedCard = false;\n    },\n    closeAllPopups(state, action) {\n      state.isEditProfilePopupOpen = false;\n      state.isEditAvatarPopupOpen = false;\n      state.isZoomImagePopupOpen = false;\n      state.isAddPlacePopupOpen = false;\n      state.isDelConfirmPopupOpen = false;\n      state.isPopupOpen = false;\n    },\n  },\n});\n\nexport const {\n  openEditProfilePopup,\n  openEditAvatarPopup,\n  openZoomImagePopup,\n  openAddPlacePopup,\n  openDelConfirmPopup,\n  resetSelectedCard,\n  closeAllPopups,\n} = appSlice.actions;\n\nexport default appSlice.reducer;\n","export const BASE_URL = \"http://localhost:3000\";\nexport const BASE_API = \"https://mesto.nomoreparties.co/v1/cohort-18\";\n\nexport const HEADERS = `\n  headers: {\n    \"Content-Type\": \"application/json\",\n    authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n  }`\n\nexport const REG_EMAIL = /^[^@]+@[^@.]+\\.[^@]+$/;\n\nexport const REG_PASSWORD =\n  /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^\\w\\s]).{8,}/;\n\nexport const REG_LINK =\n  /^(https?:\\/\\/)?([\\da-z\\\\.-]+)\\.([a-z\\\\.]{2,6})([\\\\/\\w \\\\.-]*)*\\/?$/;\n\nexport const ESC_CODE = 27;\n\nexport const DELAY = 500;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const fetchCards = createAsyncThunk(\n  \"data/fetchCards\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR!\");\n      }\n      const cards = await response.json();\n      return cards;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const newCard = createAsyncThunk(\n  \"data/newCard\",\n  async function ({ name, link }, { rejectWithValue, dispatch }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't add a new card.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const likeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set like.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const dislikeCard = createAsyncThunk(\n  \"data/likeCard\",\n  async function (id, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't set dislike.\");\n      }\n      const card = await response.json();\n      return card;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const deleteCard = createAsyncThunk(\n  \"data/deleteCard\",\n  async function (cardId, { rejectWithValue, dispatch }) {\n    try {\n      const response = await fetch(`${BASE_API}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't delete card.\");\n      }\n      return cardId;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst handleLike = (state, action) => {\n  state.status = \"resolved\";\n  state.cards = state.cards.map((c) =>\n    c._id === action.payload._id ? action.payload : c\n  );\n};\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst dataSlice = createSlice({\n  name: \"data\",\n  initialState: {\n    cards: [],\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchCards.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchCards.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = action.payload;\n    },\n    [newCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = [action.payload, ...state.cards];\n    },\n    [deleteCard.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.cards = state.cards.filter((card) => card._id !== action.payload);\n    },\n    [likeCard.fulfilled]: handleLike,\n    [dislikeCard.fulfilled]: handleLike,\n    [fetchCards.rejected]: setError,\n    [newCard.rejected]: setError,\n    [likeCard.rejected]: setError,\n    [dislikeCard.rejected]: setError,\n    [deleteCard.rejected]: setError,\n  },\n});\n\nexport const {} = dataSlice.actions;\n\nexport default dataSlice.reducer;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { openZoomImagePopup, openDelConfirmPopup } from \"../store/appSlice\";\nimport { dislikeCard, likeCard } from \"../store/dataSlice\";\n\nconst Card = ({ card }) => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector((state) => state.users);\n\n  // SET DELETE BTN TO MY CARD\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `button place__del-btn ${\n    isOwn ? \"\" : \"place__del-btn_disable\"\n  }`;\n\n  // SET LIKE TO MY CARD\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `button place__like-btn ${\n    isLiked ? \"place__like-btn_active\" : \"\"\n  }`;\n  const cardLikeCountColorClassName = `paragraph ${\n    isLiked ? \"paragraph_red\" : \"\"\n  }`;\n\n  const handleCardClick = () => {\n    dispatch(openZoomImagePopup(card));\n  };\n\n  const handleLikeClick = () => {\n    isLiked ? dispatch(dislikeCard(card._id)) : dispatch(likeCard(card._id));\n  };\n\n  const handleDeleteClick = () => {\n    dispatch(openDelConfirmPopup(card));\n  };\n\n  return (\n    <li className=\"place\">\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        aria-label=\"удалить место\"\n        onClick={handleDeleteClick}\n      />\n      <button type=\"button\" className=\"button place__img-btn\">\n        <img\n          src={card.link}\n          alt={card.name}\n          className=\"place__image\"\n          onClick={handleCardClick}\n        />\n      </button>\n      <div className=\"place__info\">\n        <h2 className=\"place__title\">{card.name}</h2>\n        <div className=\"place__like-area\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"поставить лайк\"\n            onClick={handleLikeClick}\n          />\n          <p className={cardLikeCountColorClassName}>{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Card from \"./Card\";\nimport {\n  openAddPlacePopup,\n  openEditAvatarPopup,\n  openEditProfilePopup,\n} from \"../store/appSlice\";\nimport { fetchCards } from \"../store/dataSlice\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector((state) => state.users);\n  const { cards } = useSelector((state) => state.data);\n\n  useEffect(() => {\n    dispatch(fetchCards());\n  }, [dispatch]);\n\n  const handleEditAvatar = () => {\n    dispatch(openEditAvatarPopup());\n  };\n\n  const handleEditProfile = () => {\n    dispatch(openEditProfilePopup());\n  };\n\n  const handleAddPlace = () => {\n    dispatch(openAddPlacePopup());\n  };\n\n  return (\n    <main className=\"main\">\n      {/* PROFILE */}\n      <section className=\"profile\">\n        <div className=\"profile__avatar-area\">\n          <img\n            src={currentUser.avatar}\n            alt={currentUser.name}\n            className=\"profile__avatar\"\n          />\n          <button\n            type=\"button\"\n            className=\"profile__avatar-btn\"\n            aria-label=\"Редактировать аватар\"\n            onClick={handleEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__block-name\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"button profile__edit-btn\"\n              aria-label=\"кнопка редактировать профиль\"\n              onClick={handleEditProfile}\n            />\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"button profile__add-btn\"\n          aria-label=\"кнопка добавить место\"\n          onClick={handleAddPlace}\n        />\n      </section>\n      {/* PLACES */}\n      <ul className=\"places\">\n        {cards.map((i) => {\n          return <Card key={i._id} card={i} />;\n        })}\n      </ul>\n    </main>\n  );\n};\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeAllPopups, resetSelectedCard } from \"../store/appSlice\";\nimport { DELAY } from \"../utils/config\";\n\nconst ImagePopup = () => {\n  const dispatch = useDispatch();\n  const { isZoomImagePopupOpen, selectedCard } = useSelector(\n    (state) => state.app\n  );\n\n  const setImageOpenClassName = `popup popup-zoom ${\n    isZoomImagePopupOpen ? \"popup_opened\" : \"\"\n  }`;\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    setTimeout(() => {\n      dispatch(resetSelectedCard());\n    }, DELAY);\n  };\n\n  return (\n    <section className={setImageOpenClassName} onClick={handleClose}>\n      <figure\n        className=\"popup-zoom__container\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          type=\"button\"\n          className=\"button popup__close-btn\"\n          aria-label=\"Вернуться на страницу\"\n          onClick={handleClose}\n        />\n        <img\n          src={selectedCard.link}\n          alt={selectedCard.name}\n          className=\"popup-zoom__image\"\n        />\n        <figcaption className=\"popup-zoom__caption\">\n          {selectedCard.name}\n        </figcaption>\n      </figure>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n","import { useState, useCallback } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { REG_EMAIL, REG_PASSWORD, REG_LINK } from \"../../utils/config\";\n\nexport function useFormWithValidation() {\n  const { currentUser } = useSelector((state) => state.users);\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const validateMessage = (target) => {\n    if (target.name === \"name\") {\n      if (target.value.length === 0) {\n        return `Required`;\n      }\n      if (target.value.length < 2) {\n        return \"The name must be more 2 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"lastname\") {\n      if (target.value.length === 0) {\n        return \"Please enter the name\";\n      }\n      if (target.value.length < 2) {\n        return \"The lastname must be more 2 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"about\") {\n      if (target.value.length === 0) {\n        return `Required`;\n      }\n      if (target.value.length < 8) {\n        return \"The description must be more 8 symbols\";\n      }\n      return \"\";\n    }\n    if (target.name === \"email\") {\n      if (target.value.length === 0) {\n        return \"Please enter the E-mail\";\n      }\n      if (!REG_EMAIL.test(target.value)) {\n        return \"Please enter the correct email\";\n      }\n      return \"\";\n    }\n    if (target.name === \"password\") {\n      if (target.value.length === 0) {\n        return \"Please enter the password\";\n      }\n      if (target.value.length < 8) {\n        return \"The password must be more than 8 symbols\";\n      }\n      if (!REG_PASSWORD.test(target.value)) {\n        return \"The password must include numbers, lowcase and uppercase letters\";\n      }\n      return \"\";\n    }\n    if(target.name === \"link\") {\n      if (target.value.length === 0) {\n        return \"Please enter the link\";\n      }\n      if (!REG_LINK.test(target.value)) {\n        return \"Please enter the correct link\";\n      }\n      return \"\";\n    }\n  };\n\n  const handleChange = (e) => {\n    const target = e.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: validateMessage(target) });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  const resetFormCurrentUser = useCallback(\n    (\n      newValues = currentUser,\n      newErrors = {},\n      newIsValid = false\n    ) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid, currentUser]\n  );\n\n  return {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    setValues,\n    resetForm,\n    resetFormCurrentUser,\n  };\n}\n","import React from \"react\";\n\nconst PopupWithForm = ({ isOpen, title, button, children, onClose, onSubmit, onValid }) => {\n\n  const popupOpenClassName = `popup ${isOpen ? \"popup_opened\" : \"\"}`;\n\n  return (\n    <section className={popupOpenClassName} onClick={onClose}>\n      <form\n        className=\"popup__container\"\n        method=\"post\"\n        noValidate\n        onClick={(e) => e.stopPropagation()}\n        onSubmit={onSubmit}\n      >\n        <button\n          type=\"button\"\n          className=\"button popup__close-btn\"\n          aria-label=\"Вернуться на страницу\"\n          onClick={onClose}\n        />\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button\n          type=\"submit\"\n          className={`popup__save-btn ${\n            onValid ? \"\" : \"popup__save-btn_inactive\"\n          }`}\n          aria-label=\"Сохранить новый профиль\"\n          disabled={!onValid}\n        >\n          {button}\n        </button>\n      </form>\n    </section>\n  );\n};\n\nexport default PopupWithForm;\n","import { useState } from \"react\";\n\nimport \"./Input.css\";\n\nconst Input = ({\n  labelName,\n  inputName,\n  type,\n  onChange,\n  value,\n  errors,\n  formDisabled,\n  minLength,\n}) => {\n  const [focus, setFocus] = useState(false);\n  const handleFocus = (e) => {\n    setFocus(true);\n  };\n  const handleBlur = (e) => {\n    setFocus(false);\n  };\n\n  const labelClassName = `paragraph paragraph__label paragraph__color_grey input__label ${focus || value.length ? \"input__label_focus\" : \"input__label_blur\"}` \n  return (\n    <label className=\"input\">\n      <p className={labelClassName}>\n        {labelName}\n      </p>\n      <input\n        type={type}\n        name={inputName}\n        id={inputName}\n        className=\"input__field\"\n        onChange={onChange}\n        value={value || \"\"}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        disabled={formDisabled}\n        minLength={minLength}\n        required\n      />\n      <p className=\"input__error\">{errors}</p>\n    </label>\n  );\n};\n\nexport default Input;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_API } from \"../utils/config\";\n\nexport const fetchUserInfo = createAsyncThunk(\n  \"users/fetchUserInfo\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Cant get user information\");\n      }\n      const user = await response.json();\n      console.log(user);\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const patchProfile = createAsyncThunk(\n  \"users/patchProfile\",\n  async function ({ name, about }, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ name, about }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update profile.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const patchAvatar = createAsyncThunk(\n  \"users/patchProfile\",\n  async function (avatar, { rejectWithValue }) {\n    try {\n      const response = await fetch(`${BASE_API}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n        },\n        body: JSON.stringify({ avatar: avatar.link }),\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR! Can't update avatar.\");\n      }\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst setError = (state, action) => {\n  state.status = \"rejected\";\n  state.error = action.payload;\n};\n\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: [],\n    users: [],\n    status: null,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchUserInfo.pending]: (state) => {\n      state.status = \"loading\";\n      state.error = null;\n    },\n    [fetchUserInfo.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [patchProfile.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [patchAvatar.fulfilled]: (state, action) => {\n      state.status = \"resolved\";\n      state.currentUser = action.payload;\n    },\n    [fetchUserInfo.rejected]: setError,\n    [patchProfile.rejected]: setError,\n    [patchAvatar.rejected]: setError,\n  },\n});\n\nexport const {} = userSlice.actions;\n\nexport default userSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { useFormWithValidation } from \"./Hooks/useForm.jsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input/Input.jsx\";\nimport { DELAY } from \"../utils/config.js\";\nimport { patchProfile } from \"../store/userSlice.js\";\nimport { closeAllPopups } from \"../store/appSlice.js\";\n\nconst EditProfilePopup = ({ button }) => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetFormCurrentUser } =\n    useFormWithValidation();\n  const { isEditProfilePopupOpen } = useSelector((state) => state.app);\n\n  useEffect(() => {\n    resetFormCurrentUser();\n  }, [isEditProfilePopupOpen]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(patchProfile(values));\n    setTimeout(() => {\n      handleClose();\n    }, DELAY);\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    resetFormCurrentUser();\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isEditProfilePopupOpen}\n      onClose={handleClose}\n      title=\"Edit profile\"\n      button={button}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        inputName=\"name\"\n        labelName=\"First and Last name\"\n        value={values.name || \"\"}\n        onChange={handleChange}\n        errors={errors.name}\n      />\n      <Input\n        type=\"text\"\n        inputName=\"about\"\n        labelName=\"Profession\"\n        value={values.about || \"\"}\n        onChange={handleChange}\n        errors={errors.about}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport { useFormWithValidation } from \"./Hooks/useForm.jsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input/Input.jsx\";\nimport { DELAY } from \"../utils/config.js\";\nimport { closeAllPopups } from \"../store/appSlice.js\";\nimport { patchAvatar } from \"../store/userSlice.js\";\n\nconst EditAvatarPopup = ({ button }) => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetForm } =\n    useFormWithValidation();\n  const { isEditAvatarPopupOpen } = useSelector((state) => state.app);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(patchAvatar(values));\n    console.log(values);\n    setTimeout(() => {\n      handleClose();\n    }, DELAY);\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    resetForm();\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isEditAvatarPopupOpen}\n      onClose={handleClose}\n      title=\"Update avatar\"\n      button={button}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"url\"\n        inputName=\"link\"\n        labelName=\"Avatar's link\"\n        value={values.link || \"\"}\n        onChange={handleChange}\n        errors={errors.link}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useFormWithValidation } from \"./Hooks/useForm.jsx\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input/Input.jsx\";\n\nimport { DELAY } from \"../utils/config.js\";\nimport { newCard } from \"../store/dataSlice.js\";\nimport { closeAllPopups } from \"../store/appSlice.js\";\n\nconst AddPlacePopup = ({ button }) => {\n  const dispatch = useDispatch();\n  const { values, errors, isValid, handleChange, resetForm } =\n    useFormWithValidation();\n  const { isAddPlacePopupOpen } = useSelector((state) => state.app);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(newCard(values));\n    setTimeout(() => {\n      handleClose();\n    }, DELAY);\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n    resetForm();\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isAddPlacePopupOpen}\n      onClose={handleClose}\n      title=\"New place\"\n      button={button}\n      onSubmit={handleSubmit}\n      onValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        inputName=\"name\"\n        labelName=\"Place title\"\n        value={values.name || \"\"}\n        onChange={handleChange}\n        errors={errors.name}\n      />\n      <Input\n        type=\"url\"\n        inputName=\"link\"\n        labelName=\"Place link\"\n        value={values.link || \"\"}\n        onChange={handleChange}\n        errors={errors.link}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { closeAllPopups } from \"../store/appSlice\";\nimport { deleteCard } from \"../store/dataSlice\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst ConfirmDeletePopup = ({ button }) => {\n  const dispatch = useDispatch();\n  const { isDelConfirmPopupOpen, selectedCard } = useSelector(\n    (state) => state.app\n  );\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(deleteCard(selectedCard._id))\n    dispatch(closeAllPopups());\n  };\n\n  const handleClose = () => {\n    dispatch(closeAllPopups());\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isDelConfirmPopupOpen}\n      onClose={handleClose}\n      name=\"del-place\"\n      title=\"Are you shure?\"\n      button={button}\n      onSubmit={handleSubmit}\n      onValid={true}\n    />\n  );\n};\n\nexport default ConfirmDeletePopup;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\n\nimport scrollLock from \"scroll-lock\";\nimport { closeAllPopups } from \"../store/appSlice\";\nimport { ESC_CODE } from \"../utils/config\";\nimport { fetchUserInfo } from \"../store/userSlice\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const { isPopupOpen } = useSelector((state) => state.app);\n  const { status, error } = useSelector((state) => state.data);\n  // STATES\n  const [uxSaveBtn, setUxSaveBtn] = useState(\"Save\");\n  const [uxCreateBtn, setUxCreateBtn] = useState(\"Create\");\n  const [uxDelBtn, setUxDelBtn] = useState(\"Yes!\");\n\n  // EFFECTS\n  useEffect(() => {\n    dispatch(fetchUserInfo());\n  }, [dispatch]);\n\n  const handleEsc = (e) => {\n    if (e.keyCode === ESC_CODE) {\n      dispatch(closeAllPopups());\n    }\n  };\n\n  isPopupOpen\n    ? window.addEventListener(\"keydown\", handleEsc) ||\n      scrollLock.disablePageScroll()\n    : window.removeEventListener(\"keydown\", handleEsc) ||\n      scrollLock.enablePageScroll();\n\n  /* UPDATE PROFILE WORKS\n  const handleUpdateUser = (values) => {\n    setUxSaveBtn(\"Saving...\");\n    api\n      .patchUserInfo({ name: values.name, about: values.about })\n      .then((res) => {\n        //setCurrentUser(res);\n      })\n      .then(() => handleCloseAllPopups())\n      .catch((res) => {\n        console.log(`Ошибка обновления профиля: ${res.status}`);\n      });\n  }; \n\n  // UPDATE AVATAR WORKS\n  const handleUpdateAvatar = ({ link }) => {\n    setUxSaveBtn(\"Saving...\");\n    api\n      .patchUserAvatar(link)\n      .then((res) => {\n        //setCurrentUser(res);\n      })\n      .then(() => handleCloseAllPopups())\n      .catch((res) => {\n        console.log(`Ошибка обновления аватара: ${res.status}`);\n      });\n  };*/\n\n  /* LIKE WORKS\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((res) => {\n        console.log(`Ошибка: ${res.status}`);\n      });\n  };*/\n\n  /* DELETE WORKS\n  const handleCardDelete = (card) => {\n    setUxDelBtn(\"Deleting...\");\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .then(() => handleCloseAllPopups())\n      .catch((res) => {\n        console.log(`Ошибка удаления карточки: ${res.status}`);\n      });\n  };\n\n  const handleConfirmDelete = () => {\n    handleCardDelete(cardForDelete);\n    handleCloseAllPopups();\n  };\n\n  // ADD NEW CARD WORKS\n  const handleAddPlaceSubmit = ({ name, link, fn }) => {\n    setUxCreateBtn(\"Adding...\");\n    api\n      .newPlace({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => handleCloseAllPopups())\n      .catch((res) => {\n        console.log(`Ошибка добавления карточки: ${res.status}`);\n      });\n  }; */\n\n  /* CLOSE POPUPs\n  const handleCloseAllPopups = () => {\n    setUxSaveBtn(\"Save\");\n    setUxCreateBtn(\"Create\");\n    setUxDelBtn(\"Yes!\");\n  }; */\n\n  return (\n    <section>\n      <Header />\n      {status === \"loading\" && <h2>LOADING</h2>}\n      {error && <h2>ERROR OCCURED - SERVER ERROR</h2>}\n      <Main />\n      <Footer />\n      <EditAvatarPopup button={uxSaveBtn} />\n      <EditProfilePopup button={uxSaveBtn} />\n      <AddPlacePopup button={uxCreateBtn} />\n      <ConfirmDeletePopup button={uxDelBtn} />\n      <ImagePopup />\n    </section>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport userReduser from \"./userSlice\";\nimport appReduser from \"./appSlice\";\nimport dataReduser from \"./dataSlice\";\n\nexport default configureStore({\n  reducer: {\n    app: appReduser,\n    users: userReduser,\n    data: dataReduser,\n  },\n});\n","import { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport \"./pages/index.css\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nrender(\n  <StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}