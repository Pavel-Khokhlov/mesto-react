{"version":3,"sources":["images/logo.svg","components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","isImageOpen","isOpen","setImageOpenClassName","onClose","e","stopPropagation","PopupWithForm","popupOpenClassName","method","noValidate","onSubmit","title","children","onValid","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","setTimeout","preventDefault","onUpdateUser","placeholder","value","onChange","target","id","EditAvatarPopup","formErrors","linklValid","formValid","setValue","onUpdateAvatar","linkValid","autoComplete","test","AddPlacePopup","cardLink","useRef","cardTitle","clearProfileValue","current","fn","ref","minLength","maxLength","required","ConfirmDeletePopup","onConfirmDelete","api","config","this","url","headers","fetch","then","_checkPromise","body","JSON","stringify","cardId","removeLike","addLike","res","ok","Promise","reject","status","json","authorization","App","setCards","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDelConfirmPopupOpen","setIsDelConfirmPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","uxSaveBtn","setUxSaveBtn","uxCreateBtn","setUxCreateBtn","uxDelBtn","setUxDelBtn","getUserInfo","catch","console","log","getPlaces","handleEsc","keyCode","closeAllPopups","handleCardDelete","deleteCard","newCards","filter","c","window","removeEventListener","Provider","addEventListener","changeLikeCardStatus","newCard","patchUserAvatar","patchUserInfo","newPlace","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MAAe,MAA0B,iCCU1BA,MARf,WACE,OACI,wBAAQC,UAAU,SAAlB,SACE,qBAAKC,IAAKC,EAAMC,IAAI,iHAAuBH,UAAU,YCHhDI,EAAqBC,IAAMC,gBC8DzBC,EA7DF,SAACC,GACZ,IAYMC,EAAcJ,IAAMK,WAAWN,GAG/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,gCAC7BJ,EAAQ,GAAK,0BAITK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAC7DM,EAAuB,iCAC3BJ,EAAU,yBAA2B,IAGvC,OACE,qBAAIhB,UAAU,QAAd,UACE,wBACEqB,KAAK,SACLrB,UAAWe,EACXO,aAAW,4EACXC,QAxBoB,WACxBf,EAAMgB,aAAahB,EAAMI,SAyBvB,wBAAQS,KAAK,SAASrB,UAAU,wBAAhC,SACE,qBACEC,IAAKO,EAAMI,KAAKa,KAChBtB,IAAKK,EAAMI,KAAKc,KAChB1B,UAAU,eACVuB,QAvCgB,WACtBf,EAAMmB,YAAYnB,EAAMI,WAyCtB,sBAAKZ,UAAU,cAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BQ,EAAMI,KAAKc,OACzC,sBAAK1B,UAAU,mBAAf,UACE,wBACEqB,KAAK,SACLrB,UAAWoB,EACXE,aAAW,kFACXC,QA7Cc,WACtBf,EAAMoB,WAAWpB,EAAMI,SA8CjB,mBAAGZ,UAAU,8BAAb,SACGQ,EAAMI,KAAKK,MAAMY,mBCKfC,EAzDF,SAACtB,GACZ,IAAMC,EAAcC,qBAAWN,GAE/B,OACE,uBAAMJ,UAAU,OAAhB,UAEE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,uBAAf,UACE,qBACEC,IAAKQ,EAAYsB,OACjB5B,IAAKM,EAAYiB,KACjB1B,UAAU,oBAEZ,wBACEqB,KAAK,SACLrB,UAAU,sBACVsB,aAAW,sHACXC,QAASf,EAAMwB,kBAGnB,sBAAKhC,UAAU,gBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BS,EAAYiB,OAC3C,wBACEL,KAAK,SACLrB,UAAU,2BACVsB,aAAW,iKACXC,QAASf,EAAMyB,mBAGnB,mBAAGjC,UAAU,eAAb,SAA6BS,EAAYyB,WAE3C,wBACEb,KAAK,SACLrB,UAAU,0BACVsB,aAAW,uHACXC,QAASf,EAAM2B,gBAInB,oBAAInC,UAAU,SAAd,SACGQ,EAAM4B,MAAMC,KAAI,SAAClB,GAChB,OACE,cAAC,EAAD,CAEEP,KAAMO,EACNQ,YAAanB,EAAMmB,YACnBC,WAAYpB,EAAMoB,WAClBJ,aAAchB,EAAMgB,cAJfL,EAAEL,cCxCNwB,MARf,WACE,OACE,wBAAQtC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCC8BSuC,EA/BI,SAAC/B,GAClB,IAAMgC,EAAchC,EAAMiC,OACpBC,EAAqB,2BACzBF,EAAc,eAAiB,IAGjC,OACE,yBAASxC,UAAW0C,EAAuBnB,QAASf,EAAMmC,QAA1D,SACE,yBACE3C,UAAU,wBACVuB,QAAS,SAACqB,GAAD,OAAOA,EAAEC,mBAFpB,UAIE,wBACExB,KAAK,SACLrB,UAAU,0BACVsB,aAAW,uHACXC,QAASf,EAAMmC,UAEjB,qBACE1C,IAAKO,EAAMI,KAAKa,KAChBtB,IAAKK,EAAMI,KAAKc,KAChB1B,UAAU,sBAEZ,4BAAYA,UAAU,sBAAtB,SACGQ,EAAMI,KAAKc,aCUPoB,EAlCO,SAACtC,GACrB,IAAMuC,EAAkB,gBAAYvC,EAAMiC,OAAS,eAAiB,IAEpE,OACE,yBAASzC,UAAW+C,EAAoBxB,QAASf,EAAMmC,QAAvD,SACE,uBACE3C,UAAU,mBACVgD,OAAO,OACPC,YAAU,EACV1B,QAAS,SAACqB,GAAD,OAAOA,EAAEC,mBAClBK,SAAU1C,EAAM0C,SALlB,UAOE,wBACE7B,KAAK,SACLrB,UAAU,0BACVsB,aAAW,uHACXC,QAASf,EAAMmC,UAEjB,oBAAI3C,UAAU,eAAd,SAA8BQ,EAAM2C,QACnC3C,EAAM4C,SACP,wBACE/B,KAAK,SACLrB,UAAS,0BACPQ,EAAM6C,QAAe,2BAAL,IAElB/B,aAAW,mIALb,SAOGd,EAAM8C,eCgCFC,EAzDU,SAAC/C,GACxB,IAAMC,EAAcC,qBAAWN,GADG,EAEVoD,mBAAS,IAFC,mBAE3B9B,EAF2B,KAErB+B,EAFqB,OAGID,mBAAS,IAHb,mBAG3BE,EAH2B,KAGdC,EAHc,KAKlCC,qBAAU,WACRC,YAAW,WACTJ,EAAQhD,EAAYiB,MACpBiC,EAAelD,EAAYyB,SAC1B,OACF,CAACzB,EAAaD,EAAMiC,SAmBvB,OACE,eAAC,EAAD,CACEA,OAAQjC,EAAMiC,OACdE,QAPgB,WAClBnC,EAAMmC,WAOJQ,MAAK,4HACLG,OAAQ9C,EAAM8C,OACdJ,SAfiB,SAACN,GACpBA,EAAEkB,iBACFtD,EAAMuD,aAAarC,EAAMgC,IAQzB,UAOE,uBACErC,KAAK,OACLrB,UAAU,eACVgE,YAAY,gEACZC,MAAOvC,GAAQ,GACfwC,SA9BmB,SAACtB,GACxBa,EAAQb,EAAEuB,OAAOF,UA+Bf,sBAAMG,GAAG,iBAAiBpE,UAAU,uBACpC,uBACEqB,KAAK,OACLrB,UAAU,eACVgE,YAAY,mIACZC,MAAOP,GAAe,GACtBQ,SAlC0B,SAACtB,GAC/Be,EAAef,EAAEuB,OAAOF,UAmCtB,sBAAMG,GAAG,oBAAoBpE,UAAU,2BC0B9BqE,EA/ES,SAAC7D,GAAW,IAAD,EACPgD,mBAAS,CACjC/B,KAAM,GACN6C,WAAY,GACZC,YAAY,EACZC,WAAW,IALoB,mBAC1BP,EAD0B,KACnBQ,EADmB,KAQjCb,qBAAU,WACRa,EAAS,CAAEhD,KAAM,GAAI6C,WAAY,GAAIC,YAAY,EAAMC,WAAW,MACjE,CAAChE,EAAMiC,SAqCV,OACE,eAAC,EAAD,CACEA,OAAQjC,EAAMiC,OACdE,QAPgB,WAClBnC,EAAMmC,WAOJQ,MAAK,wFACLG,OAAQ9C,EAAM8C,OACdJ,SAjBiB,SAACN,GACpBA,EAAEkB,iBACFtD,EAAMkE,eAAe,CACnBjD,KAAMwC,EAAMxC,QAeZ4B,QAASY,EAAMO,UANjB,UAQE,uBACEnD,KAAK,MACLK,KAAK,OACL1B,UAAS,uBACNiE,EAAMU,UAAiB,uBAAL,IAErBX,YAAY,yFACZY,aAAa,MACbX,MAAOA,EAAMxC,MAAQ,GACrByC,SAlCc,SAACtB,GAnBA,IAACnB,EAoBpBgD,EAAS7B,EAAEuB,OAAOF,OApBExC,EAqBPmB,EAAEuB,OAAOF,MApBR,gCACJY,KAAKpD,GACbgD,EAAS,CACPhD,KAAMA,EACN6C,WAAY,GACZC,YAAY,EACZC,WAAW,IAGbC,EAAS,CACPhD,KAAMA,EACN6C,WAAY,8FACZK,WAAW,EACXH,WAAW,OAyCb,sBACEJ,GAAG,mBACHpE,UAAS,6BACNiE,EAAMO,UAAiB,4BAAL,IAHvB,SAMGP,EAAMK,iBCTAQ,EAhEO,SAACtE,GACrB,IAAMuE,EAAWC,iBAAO,IAClBC,EAAYD,iBAAO,IAEzBpB,qBAAU,WACRC,YAAW,WACTqB,MACC,OACF,CAAC1E,EAAMiC,SAEV,IAaMyC,EAAoB,WACxBD,EAAUE,QAAQlB,MAAQ,GAC1Bc,EAASI,QAAQlB,MAAQ,IAG3B,OACE,eAAC,EAAD,CACExB,OAAQjC,EAAMiC,OACdE,QAZgB,WAClBnC,EAAMmC,WAYJQ,MAAK,gEACLG,OAAQ9C,EAAM8C,OACdJ,SAxBiB,SAACN,GACpBA,EAAEkB,iBACFtD,EAAM2B,WAAW,CACfT,KAAMuD,EAAUE,QAAQlB,MACxBxC,KAAMsD,EAASI,QAAQlB,MACvBmB,GAAIF,KAcN,UAOE,uBACEG,IAAKJ,EACL5D,KAAK,OACL+C,GAAG,YACH1C,KAAK,OACL1B,UAAU,uCACVgE,YAAY,mDACZY,aAAa,MACbU,UAAW,EACXC,UAAW,GACXC,UAAQ,IAEV,sBAAMpB,GAAG,kBAAkBpE,UAAU,uBACrC,uBACEqF,IAAKN,EACL1D,KAAK,MACL+C,GAAG,YACH1C,KAAK,OACL1B,UAAU,uCACVgE,YAAY,qGACZY,aAAa,MACbY,UAAQ,IAEV,sBAAMpB,GAAG,kBAAkBpE,UAAU,2BCxC5ByF,EAnBY,SAACjF,GAO1B,OACE,cAAC,EAAD,CACEiC,OAAQjC,EAAMiC,OACdE,QAASnC,EAAMmC,QACfjB,KAAI,YACJyB,MAAK,iEACLG,OAAQ9C,EAAM8C,OACdJ,SAZiB,SAACN,GACpBA,EAAEkB,iBACFtD,EAAMkF,sB,cCuFKC,EARH,I,WArFV,WAAYC,GAAS,oBACnBC,KAAKC,IAAMF,EAAOE,IAClBD,KAAKE,QAAUH,EAAOG,Q,wDAItB,OAAOC,MAAM,GAAD,OAAIH,KAAKC,IAAT,UAAsB,CAChCC,QAASF,KAAKE,UACbE,KAAKJ,KAAKK,iB,+BAGNxE,EAAMD,GACb,OAAOuE,MAAM,GAAD,OAAIH,KAAKC,IAAT,UAAsB,CAChC9C,OAAQ,OACR+C,QAASF,KAAKE,QACdI,KAAMC,KAAKC,UACT3E,EACAD,KAEDwE,KAAKJ,KAAKK,iB,oCAIb,OAAOF,MAAM,GAAD,OAAIH,KAAKC,IAAT,aAAyB,CACnCC,QAASF,KAAKE,UACbE,KAAKJ,KAAKK,iB,oCAGDxE,EAAMQ,GAClB,OAAO8D,MAAM,GAAD,OAAIH,KAAKC,IAAT,aAAyB,CACnC9C,OAAQ,QACR+C,QAASF,KAAKE,QACdI,KAAMC,KAAKC,UACT3E,EACAQ,KAED+D,KAAKJ,KAAKK,iB,sCAGCnE,GACd,OAAOiE,MAAM,GAAD,OAAIH,KAAKC,IAAT,oBAAgC,CAC1C9C,OAAQ,QACR+C,QAASF,KAAKE,QACdI,KAAMC,KAAKC,UAAU,CACnBtE,OAAQA,MAETkE,KAAKJ,KAAKK,iB,2CAGMI,EAAQtF,GAC3B,OAAIA,EACK6E,KAAKU,WAAWD,GAElBT,KAAKW,QAAQF,K,8BAGdA,GACN,OAAON,MAAM,GAAD,OAAIH,KAAKC,IAAT,wBAA4BQ,GAAU,CAChDtD,OAAQ,MACR+C,QAASF,KAAKE,UACbE,KAAKJ,KAAKK,iB,iCAGJI,GACT,OAAON,MAAM,GAAD,OAAIH,KAAKC,IAAT,wBAA4BQ,GAAU,CAChDtD,OAAQ,SACR+C,QAASF,KAAKE,UACbE,KAAKJ,KAAKK,iB,iCAGJI,GACT,OAAON,MAAM,GAAD,OAAIH,KAAKC,IAAT,kBAAsBQ,GAAU,CAC1CtD,OAAQ,SACR+C,QAASF,KAAKE,UACbE,KAAKJ,KAAKK,iB,oCAGDO,GAIZ,OAHKA,EAAIC,IACPC,QAAQC,OAAR,gBAAwBH,EAAII,SAEvBJ,EAAIK,W,KAIH,CAAQ,CAClBhB,IAAK,8CACLC,QAAS,CACP,eAAgB,mBAChBgB,cAAe,0CCuIJC,EArNH,WAAM,MAEUxD,mBAAS,IAFnB,mBAETpB,EAFS,KAEF6E,EAFE,OAGsBzD,mBAAS,IAH/B,mBAGT/C,EAHS,KAGIyG,EAHJ,OAI4C1D,oBAAS,GAJrD,mBAIT2D,EAJS,KAIeC,EAJf,OAKsC5D,oBAAS,GAL/C,mBAKT6D,EALS,KAKYC,EALZ,OAM0C9D,oBAAS,GANnD,mBAMT+D,EANS,KAMcC,EANd,OAO0ChE,oBAAS,GAPnD,mBAOTiE,EAPS,KAOcC,EAPd,OAQgClE,oBAAS,GARzC,mBAQTmE,EARS,KAQSC,EART,OASwBpE,oBAAS,GATjC,mBASTqE,EATS,KASKC,EATL,OAU0BtE,mBAAS,IAVnC,mBAUTuE,EAVS,KAUMC,EAVN,OAYkBxE,mBAAS,0DAZ3B,mBAYTyE,EAZS,KAYEC,EAZF,QAasB1E,mBAAS,8CAb/B,qBAaT2E,GAbS,MAaIC,GAbJ,SAcgB5E,mBAAS,gBAdzB,qBAcT6E,GAdS,MAcCC,GAdD,MAiBhB1E,qBAAU,WACR+B,EACG4C,cACAtC,MAAK,SAACQ,GACLS,EAAeT,MAEhB+B,OAAM,SAAC/B,GACNgC,QAAQC,IAAR,sNAAsDjC,EAAII,cAE7D,IAEHjD,qBAAU,WACR+B,EACGgD,YACA1C,MAAK,SAACQ,GACLQ,EAASR,MAEV+B,OAAM,SAAC/B,GACNgC,QAAQC,IAAR,oMAAmDjC,EAAII,cAE1D,IAEH,IAAM+B,GAAY,SAAChG,GACC,KAAdA,EAAEiG,SACJC,MA4EEC,GAAmB,SAACnI,GACxB0H,GAAY,uDACZ3C,EACGqD,WAAWpI,EAAKE,KAChBmF,MAAK,SAACQ,GACLgC,QAAQC,IAAIjC,GACZ,IAAMwC,EAAW7G,EAAM8G,QAAO,SAACC,GAAD,OAAOA,EAAErI,MAAQF,EAAKE,OACpDmG,EAASgC,MAEVhD,MAAK,kBAAM6C,QACXN,OAAM,SAAC/B,GACNgC,QAAQC,IAAR,kJAAyCjC,EAAII,aAyB7CiC,GAAiB,WACrBtB,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAAyB,GACzBE,GAAoB,GACpBI,EAAiB,IACjBE,EAAa,0DACbE,GAAe,8CACfE,GAAY,gBACZc,OAAOC,oBAAoB,UAAWT,KAGxC,OACE,eAACxI,EAAmBkJ,SAApB,CAA6BrF,MAAOxD,EAApC,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACE2B,MAAOA,EACPJ,aAzHwB,WAC5BwF,GAAyB,GACzB4B,OAAOG,iBAAiB,UAAWX,KAwH/B3G,cA/HyB,WAC7BmF,GAA0B,GAC1BgC,OAAOG,iBAAiB,UAAWX,KA8H/BzG,WAtHsB,WAC1BmF,GAAuB,GACvB8B,OAAOG,iBAAiB,UAAWX,KAqH/BjH,YAlHkB,SAACf,GACvBkH,EAAgBlH,GAChBiD,YAAW,WACT+D,GAAoB,KACnB,KACHwB,OAAOG,iBAAiB,UAAWX,KA8G/BhH,WAxEiB,SAAChB,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAC7D6E,EACG6D,qBAAqB5I,EAAKE,IAAKE,GAC/BiF,MAAK,SAACwD,GACL,IAAMR,EAAW7G,EAAMC,KAAI,SAAC8G,GAAD,OAAQA,EAAErI,MAAQF,EAAKE,IAAM2I,EAAUN,KAClElC,EAASgC,MAEVT,OAAM,SAAC/B,GACNgC,QAAQC,IAAR,gDAAuBjC,EAAII,aAgE3BrF,aA5GwB,SAACZ,GAC7B8G,GAAyB,GACzBM,EAAiBpH,GACjBwI,OAAOG,iBAAiB,UAAWX,OA2GjC,cAAC,EAAD,IACA,cAAC,EAAD,CACEnG,OAAQ8E,EACRjE,OAAQ2E,EACRtF,QAASmG,GACTpE,eA9FqB,SAAC,GAAc,IAAZjD,EAAW,EAAXA,KAC5ByG,EAAa,mEACbvC,EACG+D,gBAAgBjI,GAChBwE,MAAK,SAACQ,GACLS,EAAeT,MAEhBR,MAAK,kBAAM6C,QACXN,OAAM,SAAC/B,GACNgC,QAAQC,IAAR,wJAA0CjC,EAAII,eAuFhD,cAAC,EAAD,CACEpE,OAAQ0E,EACR7D,OAAQ2E,EACRtF,QAASmG,GACT/E,aAlHmB,SAACrC,EAAMgC,GAC9BwE,EAAa,mEACbvC,EACGgE,cAAc,CAAEjI,KAAMA,EAAMQ,MAAOwB,IACnCuC,MAAK,SAACQ,GACLS,EAAeT,MAEhBR,MAAK,kBAAM6C,QACXN,OAAM,SAAC/B,GACNgC,QAAQC,IAAR,wJAA0CjC,EAAII,eA2GhD,cAAC,EAAD,CACEpE,OAAQ4E,EACR/D,OAAQ6E,GACRxF,QAASmG,GACT3G,WAzDuB,SAAC,GAAwB,IAAtBT,EAAqB,EAArBA,KAAMD,EAAe,EAAfA,KAAM2D,EAAS,EAATA,GAC1CgD,GAAe,mEACfzC,EACGiE,SAAS,CAAElI,OAAMD,SACjBwE,MAAK,SAACwD,GACLxC,EAAS,CAACwC,GAAF,mBAAcrH,QAEvB6D,MAAK,kBAAM6C,QACX7C,MAAK,kBAAMb,OACXoD,OAAM,SAAC/B,GACNgC,QAAQC,IAAR,8JAA2CjC,EAAII,eAiDjD,cAAC,EAAD,CACEpE,OAAQgF,EACRnE,OAAQ+E,GACR1F,QAASmG,GACTtH,aAAcuH,GACdrD,gBAtEsB,WAC1BqD,GAAiBhB,GACjBe,QAsEE,cAAC,EAAD,CACErG,OAAQkF,EACR/G,KAAMiH,EACNlF,QAASmG,SC/MFe,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9D,MAAK,YAAkD,IAA/C+D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.8394d554.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n      <header className=\"header\">\n        <img src={logo} alt=\"логотип место россия\" className=\"logo\" />\n      </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nconst Card = (props) => {\n  const handleCardClick = () => {\n    props.onCardClick(props.card);\n  };\n\n  const handleLikeClick = () => {\n    props.onCardLike(props.card);\n  };\n\n  const handleDeleteClick = () => {\n    props.onCardDelete(props.card);\n  };\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  // SET DELETE BTN TO MY CARD\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `button place__del-btn ${\n    isOwn ? \"\" : \"place__del-btn_disable\"\n  }`;\n\n  // SET LIKE TO MY CARD\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `button place__like-btn ${\n    isLiked ? \"place__like-btn_active\" : \"\"\n  }`;\n\n  return (\n    <li className=\"place\">\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        aria-label=\"удалить место\"\n        onClick={handleDeleteClick}\n      />\n      <button type=\"button\" className=\"button place__img-btn\">\n        <img\n          src={props.card.link}\n          alt={props.card.name}\n          className=\"place__image\"\n          onClick={handleCardClick}\n        />\n      </button>\n      <div className=\"place__info\">\n        <h2 className=\"place__title\">{props.card.name}</h2>\n        <div className=\"place__like-area\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"поставить лайк\"\n            onClick={handleLikeClick}\n          />\n          <p className=\"paragraph place__like-count\">\n            {props.card.likes.length}\n          </p>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nconst Main = (props) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      {/* PROFILE */}\n      <section className=\"profile\">\n        <div className=\"profile__avatar-area\">\n          <img\n            src={currentUser.avatar}\n            alt={currentUser.name}\n            className=\"profile__avatar\"\n          />\n          <button\n            type=\"button\"\n            className=\"profile__avatar-btn\"\n            aria-label=\"Редактировать аватар\"\n            onClick={props.onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__block-name\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"button profile__edit-btn\"\n              aria-label=\"кнопка редактировать профиль\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"button profile__add-btn\"\n          aria-label=\"кнопка добавить место\"\n          onClick={props.onAddPlace}\n        />\n      </section>\n      {/* PLACES */}\n      <ul className=\"places\">\n        {props.cards.map((i) => {\n          return (\n            <Card\n              key={i._id}\n              card={i}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          );\n        })}\n      </ul>\n    </main>\n  );\n};\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nconst ImagePopup = (props) => {\n  const isImageOpen = props.isOpen;\n  const setImageOpenClassName = `popup popup-zoom ${\n    isImageOpen ? \"popup_opened\" : \"\"\n  }`;\n\n  return (\n    <section className={setImageOpenClassName} onClick={props.onClose}>\n      <figure\n        className=\"popup-zoom__container\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          type=\"button\"\n          className=\"button popup__close-btn\"\n          aria-label=\"Вернуться на страницу\"\n          onClick={props.onClose}\n        />\n        <img\n          src={props.card.link}\n          alt={props.card.name}\n          className=\"popup-zoom__image\"\n        />\n        <figcaption className=\"popup-zoom__caption\">\n          {props.card.name}\n        </figcaption>\n      </figure>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n","import React from \"react\";\n\nconst PopupWithForm = (props) => {\n  const popupOpenClassName = `popup ${props.isOpen ? \"popup_opened\" : \"\"}`;\n\n  return (\n    <section className={popupOpenClassName} onClick={props.onClose}>\n      <form\n        className=\"popup__container\"\n        method=\"post\"\n        noValidate\n        onClick={(e) => e.stopPropagation()}\n        onSubmit={props.onSubmit}\n      >\n        <button\n          type=\"button\"\n          className=\"button popup__close-btn\"\n          aria-label=\"Вернуться на страницу\"\n          onClick={props.onClose}\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button\n          type=\"submit\"\n          className={`popup__save-btn ${\n           !props.onValid ? \"\" : \"popup__save-btn_inactive\"\n          }`}\n          aria-label=\"Сохранить новый профиль\"\n        >\n          {props.button}\n        </button>\n      </form>\n    </section>\n  );\n};\n\nexport default PopupWithForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nconst EditProfilePopup = (props) => {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    setTimeout(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, 500);\n  }, [currentUser, props.isOpen]);\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onUpdateUser(name, description);\n  };\n\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={handleClose}\n      title={`Редактировать профиль`}\n      button={props.button}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        placeholder=\"Имя Фамилия\"\n        value={name || \"\"}\n        onChange={handleChangeName}\n      />\n      <span id=\"fullName-error\" className=\"popup__input-error\" />\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        placeholder=\"Профессия или должность\"\n        value={description || \"\"}\n        onChange={handleChangeDescription}\n      />\n      <span id=\"jobPosition-error\" className=\"popup__input-error\" />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = (props) => {\n  const [value, setValue] = useState({\n    link: \"\",\n    formErrors: \"\",\n    linklValid: true,\n    formValid: true,\n  });\n\n  useEffect(() => {\n    setValue({ link: \"\", formErrors: \"\", linklValid: true, formValid: true });\n  }, [props.isOpen]);\n\n  const validateLink = (link) => {\n    const reUrl = /^(ftp|http|https):\\/\\/[^ \"]+$/;\n    if (reUrl.test(link)) {\n      setValue({\n        link: link,\n        formErrors: \"\",\n        linklValid: false,\n        formValid: false,\n      });\n    } else {\n      setValue({\n        link: link,\n        formErrors: \"Проверьте ссылку\",\n        linkValid: true,\n        formValid: true,\n      });\n    }\n  };\n\n  const handleInput = (e) => {\n    setValue(e.target.value);\n    validateLink(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      link: value.link,\n    });\n  };\n\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={handleClose}\n      title={`Обновить аватар`}\n      button={props.button}\n      onSubmit={handleSubmit}\n      onValid={value.formValid}\n    >\n      <input\n        type=\"url\"\n        name=\"link\"\n        className={`popup__input ${\n          !value.linkValid ? \"\" : \"popup__input_invalid\"\n        }`}\n        placeholder=\"Ссылка на аватар\"\n        autoComplete=\"off\"\n        value={value.link || \"\"}\n        onChange={handleInput}\n      />\n      <span\n        id=\"avatarLink-error\"\n        className={`popup__input-error ${\n          !value.formValid ? \"\" : \"popup__input-error_active\"\n        }`}\n      >\n        {value.formErrors}\n      </span>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useEffect, useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = (props) => {\n  const cardLink = useRef(\"\");\n  const cardTitle = useRef(\"\");\n\n  useEffect(() => {\n    setTimeout(() => {\n      clearProfileValue();\n    }, 500);\n  }, [props.isOpen]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onAddPlace({\n      name: cardTitle.current.value,\n      link: cardLink.current.value,\n      fn: clearProfileValue,\n    });\n  };\n\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const clearProfileValue = () => {\n    cardTitle.current.value = \"\";\n    cardLink.current.value = \"\";\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={handleClose}\n      title={`Новое место`}\n      button={props.button}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={cardTitle}\n        type=\"text\"\n        id=\"placeName\"\n        name=\"name\"\n        className=\"popup__input popup__input_name-place\"\n        placeholder=\"Название\"\n        autoComplete=\"off\"\n        minLength={2}\n        maxLength={30}\n        required\n      />\n      <span id=\"placeName-error\" className=\"popup__input-error\" />\n      <input\n        ref={cardLink}\n        type=\"url\"\n        id=\"placeLink\"\n        name=\"link\"\n        className=\"popup__input popup__input_link-place\"\n        placeholder=\"Ссылка на картинку\"\n        autoComplete=\"off\"\n        required\n      />\n      <span id=\"placeLink-error\" className=\"popup__input-error\" />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst ConfirmDeletePopup = (props) => {\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onConfirmDelete();\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name={`del-place`}\n      title={`Вы уверенны?`}\n      button={props.button}\n      onSubmit={handleSubmit}\n    />\n  );\n};\n\nexport default ConfirmDeletePopup;\n","class Api {\n  constructor(config) {\n    this.url = config.url;\n    this.headers = config.headers;\n  }\n\n  getPlaces() {\n    return fetch(`${this.url}/cards`, {\n      headers: this.headers,\n    }).then(this._checkPromise);\n  }\n\n  newPlace(name, link) {\n    return fetch(`${this.url}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify(\n        name,\n        link,\n      ),\n    }).then(this._checkPromise);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n      headers: this.headers,\n    }).then(this._checkPromise);\n  }\n\n  patchUserInfo(name, about) {\n    return fetch(`${this.url}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify(\n        name,\n        about,\n      ),\n    }).then(this._checkPromise);\n  }\n\n  patchUserAvatar(avatar) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(this._checkPromise);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this.removeLike(cardId);\n    }\n    return this.addLike(cardId);\n  }\n\n  addLike(cardId) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then(this._checkPromise);\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._checkPromise);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._checkPromise);\n  }\n\n  _checkPromise(res) {\n    if (!res.ok) {\n      Promise.reject(`Error ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-18\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    authorization: \"87b27e82-ce10-439c-bbe6-2acce8f72cdc\",\n  },\n});\n\nexport default api;\n","import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nconst App = () => {\n  // STATES\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState(\"\");\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDelConfirmPopupOpen, setIsDelConfirmPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [cardForDelete, setCardForDelete] = useState(\"\");\n\n  const [uxSaveBtn, setUxSaveBtn] = useState(\"Сохранить\");\n  const [uxCreateBtn, setUxCreateBtn] = useState(\"Создать\");\n  const [uxDelBtn, setUxDelBtn] = useState(\"Да\");\n\n  // EFFECTS\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((res) => {\n        console.log(`Ошибка, получения данных пользователя: ${res.status}`);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getPlaces()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((res) => {\n        console.log(`Ошибка загрузки карточек с сервера: ${res.status}`);\n      });\n  }, []);\n\n  const handleEsc = (e) => {\n    if (e.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n    window.addEventListener(\"keydown\", handleEsc);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n    window.addEventListener(\"keydown\", handleEsc);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n    window.addEventListener(\"keydown\", handleEsc);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setTimeout(() => {\n      setIsImagePopupOpen(true);\n    }, 500);\n    window.addEventListener(\"keydown\", handleEsc);\n  };\n\n  const handleCardDeleteClick = (card) => {\n    setIsDelConfirmPopupOpen(true);\n    setCardForDelete(card);\n    window.addEventListener(\"keydown\", handleEsc);\n  };\n\n  // UPDATE PROFILE WORKS\n  const handleUpdateUser = (name, description) => {\n    setUxSaveBtn(\"Сохранение...\");\n    api\n      .patchUserInfo({ name: name, about: description })\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => closeAllPopups())\n      .catch((res) => {\n        console.log(`Ошибка обновления профиля: ${res.status}`);\n      });\n  };\n\n  // UPDATE AVATAR WORKS\n  const handleUpdateAvatar = ({ link }) => {\n    setUxSaveBtn(\"Сохранение...\");\n    api\n      .patchUserAvatar(link)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => closeAllPopups())\n      .catch((res) => {\n        console.log(`Ошибка обновления аватара: ${res.status}`);\n      });\n  };\n\n  // LIKE WORKS\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((res) => {\n        console.log(`Ошибка: ${res.status}`);\n      });\n  };\n\n  // DELETE WORKS\n  const handleCardDelete = (card) => {\n    setUxDelBtn(\"Удаление...\");\n    api\n      .deleteCard(card._id)\n      .then((res) => {\n        console.log(res);\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .then(() => closeAllPopups())\n      .catch((res) => {\n        console.log(`Ошибка удаления карточки: ${res.status}`);\n      });\n  };\n\n  const handleConfirmDelete = () => {\n    handleCardDelete(cardForDelete);\n    closeAllPopups();\n  };\n\n  // ADD NEW CARD WORKS\n  const handleAddPlaceSubmit = ({ name, link, fn }) => {\n    setUxCreateBtn(\"Добавление...\");\n    api\n      .newPlace({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => closeAllPopups())\n      .then(() => fn())\n      .catch((res) => {\n        console.log(`Ошибка добавления карточки: ${res.status}`);\n      });\n  };\n\n  // CLOSE POPUPs\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDelConfirmPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setCardForDelete(\"\");\n    setUxSaveBtn(\"Сохранить\");\n    setUxCreateBtn(\"Создать\");\n    setUxDelBtn(\"Да\");\n    window.removeEventListener(\"keydown\", handleEsc);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        cards={cards}\n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDeleteClick}\n      />\n      <Footer />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        button={uxSaveBtn}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        button={uxSaveBtn}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        button={uxCreateBtn}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n      <ConfirmDeletePopup\n        isOpen={isDelConfirmPopupOpen}\n        button={uxDelBtn}\n        onClose={closeAllPopups}\n        onCardDelete={handleCardDelete}\n        onConfirmDelete={handleConfirmDelete}\n      />\n      <ImagePopup\n        isOpen={isImagePopupOpen}\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './pages/index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}